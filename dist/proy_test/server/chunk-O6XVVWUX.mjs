import './polyfills.server.mjs';
import{Aa as i,B as E,Ba as s,Da as w,Ea as x,Ia as a,K as c,Ka as d,L as v,P as k,Ra as D,Ta as M,ac as U,ba as _,ca as S,dc as j,fa as r,ma as m,mb as g,oa as p,sa as y,ua as u,vb as L,xa as f,ya as h,za as t,zb as T}from"./chunk-PHV6ZCSM.mjs";import"./chunk-5XUXGTUW.mjs";var V=(o,n)=>n.titulo,F=(o,n)=>n.id,H=o=>["/mi-cuenta/pedidos",o];function P(o,n){o&1&&(t(0,"div",5),c(),t(1,"svg",29),s(2,"path",30),i(),v(),t(3,"span",31),a(4,"Cuenta verificada"),i()())}function z(o,n){if(o&1&&(t(0,"a",34),a(1),i()),o&2){let e=x().$implicit;p("routerLink",e.ruta),r(),d(" ",e.accion," ")}}function R(o,n){if(o&1&&(t(0,"div",37),a(1),i()),o&2){let e=x().$implicit;r(),d(" ",e.descripcion," ")}}function $(o,n){if(o&1&&(t(0,"div",11)(1,"div",32)(2,"div"),c(),s(3,"svg",33),i(),m(4,z,2,2,"a",34),i(),v(),t(5,"div")(6,"div",35),a(7),i(),t(8,"div",36),a(9),i(),m(10,R,2,1,"div",37),i()()),o&2){let e=n.$implicit;r(2),y("w-12 h-12 rounded-lg flex items-center justify-center "+e.color),r(),p("innerHTML",e.icono,_),r(),u(e.accion?4:-1),r(3),d(" ",e.valor," "),r(2),d(" ",e.titulo," "),r(),u(e.descripcion?10:-1)}}function A(o,n){if(o&1&&(t(0,"span",41),a(1),i()),o&2){let e=x().$implicit;r(),d(" ",e.badge," ")}}function G(o,n){if(o&1&&(t(0,"a",17)(1,"div"),c(),s(2,"svg",38),i(),v(),t(3,"div",39)(4,"div",2)(5,"h3",40),a(6),i(),m(7,A,2,1,"span",41),i(),t(8,"p",42),a(9),i()(),c(),t(10,"svg",43),s(11,"path",44),i()()),o&2){let e=n.$implicit;p("routerLink",e.ruta),r(),y("w-10 h-10 rounded-lg flex items-center justify-center mr-4 "+e.color),r(),p("innerHTML",e.icono,_),r(4),d(" ",e.titulo," "),r(),u(e.badge&&e.badge>0?7:-1),r(2),d(" ",e.descripcion," ")}}function O(o,n){if(o&1&&(t(0,"div",45)(1,"div",46)(2,"div")(3,"span",47),a(4),i(),t(5,"div",48),a(6),i()(),t(7,"span",49),a(8),i()(),t(9,"div",2)(10,"span",14),a(11),i(),t(12,"a",34),a(13," Ver detalle "),i()()()),o&2){let e=n.$implicit,l=x(2);r(4),d(" Pedido #",e.numero_pedido||e.id," "),r(2),d(" ",l.formatearFecha(e.created_at)," "),r(),p("ngClass",l.getEstadoClass(e.estado)),r(),d(" ",l.getEstadoTexto(e.estado)," "),r(3),d(" S/ ",e.total," "),r(),p("routerLink",M(6,H,e.id))}}function B(o,n){if(o&1&&f(0,O,14,8,"div",45,F),o&2){let e=x();h(e.pedidosRecientes())}}function N(o,n){o&1&&(t(0,"div",23),c(),t(1,"svg",50),s(2,"path",51),i(),v(),t(3,"h4",52),a(4," No tienes pedidos a\xFAn "),i(),t(5,"p",53),a(6," \xA1Explora nuestro cat\xE1logo y haz tu primera compra! "),i(),t(7,"a",54),a(8," Ir al cat\xE1logo "),i()())}function q(o,n){if(o&1&&s(0,"img",57),o&2){let e=x().$implicit;p("src",e.producto==null?null:e.producto.imagen_principal,S)("alt",e.producto==null?null:e.producto.nombre)}}function J(o,n){o&1&&(t(0,"div",58),c(),t(1,"svg",64),s(2,"path",65),i()())}function K(o,n){if(o&1&&(t(0,"div",45)(1,"div",55)(2,"div",56),m(3,q,1,2,"img",57)(4,J,3,0,"div",58),i(),t(5,"div",59)(6,"h4",60),a(7),i(),t(8,"div",61)(9,"span",62),a(10),i(),t(11,"button",63),a(12," Agregar al carrito "),i()()()()()),o&2){let e=n.$implicit;r(3),u(e.producto!=null&&e.producto.imagen_principal?3:4),r(4),d(" ",e.producto==null?null:e.producto.nombre," "),r(3),d(" S/ ",e.producto==null?null:e.producto.precio," ")}}function Q(o,n){if(o&1&&f(0,K,13,3,"div",45,F),o&2){let e=x();h(e.favoritosRecientes())}}function W(o,n){o&1&&(t(0,"div",23),c(),t(1,"svg",50),s(2,"path",66),i(),v(),t(3,"h4",52),a(4," No tienes favoritos "),i(),t(5,"p",53),a(6," Guarda productos que te interesen para encontrarlos f\xE1cilmente "),i(),t(7,"a",54),a(8," Explorar productos "),i()())}var I=class o{dashboardData=null;isLoading=!1;recargarDatos=new k;nombreUsuario=g(()=>this.dashboardData?.usuario?.name||"Usuario");clienteInfo=g(()=>this.dashboardData?.cliente||null);estadisticasCards=g(()=>{let n=this.dashboardData?.estadisticas;return n?[{titulo:"Total de pedidos",valor:n.total_pedidos,icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>',color:"bg-blue-500",descripcion:`${n.pedidos_entregados} entregados`,accion:"Ver todos",ruta:"/mi-cuenta/pedidos"},{titulo:"Favoritos",valor:n.total_favoritos,icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>',color:"bg-red-500",descripcion:"Productos guardados",accion:"Ver lista",ruta:"/mi-cuenta/favoritos"},{titulo:"Direcciones",valor:n.total_direcciones,icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>',color:"bg-green-500",descripcion:"Configuradas",accion:"Gestionar",ruta:"/mi-cuenta/direcciones"},{titulo:"Total gastado",valor:`S/ ${n.total_gastado?.toFixed(2)||"0.00"}`,icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>',color:"bg-purple-500",descripcion:`Promedio: S/ ${n.ticket_promedio?.toFixed(2)||"0.00"}`}]:[]});accesosRapidos=g(()=>{let n=this.dashboardData?.estadisticas;return[{titulo:"Hacer pedido",descripcion:"Explorar cat\xE1logo y comprar",icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>',ruta:"/catalogo",color:"bg-blue-500"},{titulo:"Seguir pedidos",descripcion:"Rastrear entregas en curso",icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m0 0L9 7"></path>',ruta:"/mi-cuenta/pedidos",color:"bg-green-500",badge:n?.pedidos_pendientes},{titulo:"Notificaciones",descripcion:"Ver mensajes y alertas",icono:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5-5V9a4 4 0 00-8 0v3l-5 5h5m0 0v1a2 2 0 002 2h2a2 2 0 002-2v-1"></path>',ruta:"/mi-cuenta/notificaciones",color:"bg-yellow-500",badge:n?.notificaciones_no_leidas}]});pedidosRecientes=g(()=>this.dashboardData?.pedidos_recientes?.slice(0,3)||[]);favoritosRecientes=g(()=>this.dashboardData?.favoritos_recientes?.slice(0,3)||[]);formatearFecha(n){return new Date(n).toLocaleDateString("es-PE",{day:"2-digit",month:"short",year:"numeric"})}getEstadoClass(n){return{pendiente:"bg-yellow-100 text-yellow-800",confirmado:"bg-blue-100 text-blue-800",preparando:"bg-orange-100 text-orange-800",enviado:"bg-green-100 text-green-800",entregado:"bg-emerald-100 text-emerald-800",cancelado:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"}getEstadoTexto(n){return{pendiente:"Pendiente",confirmado:"Confirmado",preparando:"Preparando",enviado:"Enviado",entregado:"Entregado",cancelado:"Cancelado"}[n]||n}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=E({type:o,selectors:[["app-dashboard-usuario"]],inputs:{dashboardData:"dashboardData",isLoading:"isLoading"},outputs:{recargarDatos:"recargarDatos"},standalone:!0,features:[D],decls:53,vars:5,consts:[[1,"space-y-6"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","rounded-xl","p-6","text-white"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-bold","mb-2"],[1,"text-blue-100"],[1,"flex","items-center","mt-2"],[1,"hidden","sm:block"],[1,"text-right"],[1,"text-2xl","font-bold"],[1,"text-blue-200","text-sm"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6","hover:shadow-md","transition-shadow"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"flex","items-center","p-4","border","border-gray-200","rounded-lg","hover:border-gray-300","hover:shadow-sm","transition-all","group",3,"routerLink"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"p-6","border-b","border-gray-200"],["routerLink","/mi-cuenta/pedidos",1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","transition-colors"],[1,"divide-y","divide-gray-200"],[1,"p-6","text-center"],["routerLink","/mi-cuenta/favoritos",1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","transition-colors"],[1,"flex","justify-center"],["type","button",1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-green-300","mr-1"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-green-300","text-sm","font-medium"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-6","h-6","text-white",3,"innerHTML"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"routerLink"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","font-medium","text-gray-700","mb-1"],[1,"text-xs","text-gray-500"],[1,"w-5","h-5","text-white",3,"innerHTML"],[1,"flex-1"],[1,"font-medium","text-gray-900","group-hover:text-blue-600","transition-colors"],[1,"bg-red-500","text-white","text-xs","font-medium","px-2","py-1","rounded-full"],[1,"text-sm","text-gray-500","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400","group-hover:text-gray-600","transition-colors","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"p-6","hover:bg-gray-50","transition-colors"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500","mt-1"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-400","mx-auto","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-4"],["routerLink","/catalogo",1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","text-sm","font-medium","rounded-lg","hover:bg-blue-700","transition-colors"],[1,"flex","items-center","space-x-4"],[1,"flex-shrink-0"],[1,"w-12","h-12","rounded-lg","object-cover",3,"src","alt"],[1,"w-12","h-12","bg-gray-200","rounded-lg","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"flex","items-center","justify-between","mt-1"],[1,"text-sm","font-semibold","text-gray-900"],["type","button",1,"text-xs","text-blue-600","hover:text-blue-800","font-medium","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"]],template:function(e,l){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),a(5),i(),t(6,"p",4),a(7,"Bienvenido de vuelta a tu cuenta"),i(),m(8,P,5,0,"div",5),i(),t(9,"div",6)(10,"div",7)(11,"div",8),a(12),i(),t(13,"div",9),a(14,"Pedidos totales"),i()()()()(),t(15,"div",10),f(16,$,11,7,"div",11,V),i(),t(18,"div",12)(19,"div",13)(20,"h2",14),a(21,"Accesos r\xE1pidos"),i(),t(22,"span",15),a(23,"Acciones m\xE1s utilizadas"),i()(),t(24,"div",16),f(25,G,12,7,"a",17,V),i()(),t(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",2)(31,"h3",14),a(32," Pedidos recientes "),i(),t(33,"a",21),a(34," Ver todos "),i()()(),t(35,"div",22),m(36,B,2,0)(37,N,9,0,"div",23),i()(),t(38,"div",19)(39,"div",20)(40,"div",2)(41,"h3",14),a(42," Favoritos recientes "),i(),t(43,"a",24),a(44," Ver todos "),i()()(),t(45,"div",22),m(46,Q,2,0)(47,W,9,0,"div",23),i()()(),t(48,"div",25)(49,"button",26),w("click",function(){return l.recargarDatos.emit()}),c(),t(50,"svg",27),s(51,"path",28),i(),a(52," Actualizar datos "),i()()()),e&2){let b,C;r(5),d(" \xA1Hola, ",l.nombreUsuario(),"! \u{1F44B} "),r(3),u((b=l.clienteInfo())!=null&&b.verificado?8:-1),r(4),d(" ",((C=l.estadisticasCards()[0])==null?null:C.valor)||"0"," "),r(4),h(l.estadisticasCards()),r(9),h(l.accesosRapidos()),r(11),u(l.pedidosRecientes().length>0?36:37),r(10),u(l.favoritosRecientes().length>0?46:47)}},dependencies:[T,L,j,U],styles:[".transition-all[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.4,0,.2,1)}.hover\\:shadow-md[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.estado-pendiente[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.estado-confirmado[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.estado-enviado[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.estado-entregado[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.estado-cancelado[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}"]})};export{I as DashboardUsuarioComponent};
