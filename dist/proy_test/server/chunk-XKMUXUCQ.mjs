import './polyfills.server.mjs';
import{a as k}from"./chunk-MQX3N7BU.mjs";import"./chunk-NIVLWR4S.mjs";import{Aa as i,B as C,Ba as d,Ea as g,Ia as n,K as l,Ka as m,L as c,La as v,Ra as E,cc as w,fa as r,ka as p,ma as u,pa as _,qa as x,ua as f,xa as S,ya as b,z as h,za as e,zb as y}from"./chunk-NBUSMRAH.mjs";import"./chunk-5XUXGTUW.mjs";var j=(o,a)=>a.id;function T(o,a){o&1&&(e(0,"div",4),d(1,"div",5),e(2,"p",6),n(3,"Cargando informaci\xF3n de cr\xE9dito..."),i()())}function M(o,a){o&1&&(e(0,"div",32)(1,"div",43),l(),e(2,"svg",44),d(3,"path",45),i()(),c(),e(4,"h3",46),n(5," No hay transacciones "),i(),e(6,"p",24),n(7," A\xFAn no tienes movimientos en tu cuenta de cr\xE9dito. "),i()())}function L(o,a){o&1&&(l(),d(0,"path",51))}function z(o,a){o&1&&(l(),d(0,"path",52))}function F(o,a){o&1&&(l(),d(0,"path",53))}function D(o,a){if(o&1&&(e(0,"div",59),n(1),i()),o&2){let t=g().$implicit;r(),m(" Pedido #",t.pedido_numero," ")}}function H(o,a){if(o&1&&(e(0,"div",47)(1,"div",48)(2,"div",49),l(),e(3,"svg",50),u(4,L,1,0,":svg:path",51)(5,z,1,0,":svg:path",52)(6,F,1,0,":svg:path",53),i()(),c(),e(7,"div")(8,"h3",54),n(9),i(),e(10,"p",55),n(11),i(),e(12,"p",56),n(13),i()()(),e(14,"div",57)(15,"span",58),n(16),i(),u(17,D,2,1,"div",59),i()()),o&2){let t=a.$implicit,s=g(3);r(2),x("bg-red-100",t.tipo==="cargo")("bg-green-100",t.tipo==="pago")("bg-blue-100",t.tipo==="ajuste"),r(),x("text-red-600",t.tipo==="cargo")("text-green-600",t.tipo==="pago")("text-blue-600",t.tipo==="ajuste"),r(),f(t.tipo==="cargo"?4:t.tipo==="pago"?5:6),r(5),m(" ",s.getTipoTransaccionTexto(t.tipo)," "),r(2),m(" ",t.descripcion," "),r(2),m(" ",s.formatearFecha(t.created_at)," "),r(2),x("text-red-600",t.tipo==="cargo")("text-green-600",t.tipo==="pago")("text-blue-600",t.tipo==="ajuste"),r(),v(" ",t.tipo==="cargo"?"-":"+","S/ ",t.monto," "),r(),f(t.pedido_numero?17:-1)}}function U(o,a){if(o&1&&(e(0,"div",33),S(1,H,18,25,"div",47,j),i()),o&2){let t=g(2);r(),b(t.transacciones())}}function V(o,a){if(o&1&&(e(0,"div",7)(1,"div",1)(2,"div",8)(3,"div",9),l(),e(4,"svg",10),d(5,"path",11),i()(),c(),e(6,"div",12)(7,"h3",13),n(8," L\xEDmite de cr\xE9dito "),i(),e(9,"p",2),n(10),i()()()(),e(11,"div",1)(12,"div",8)(13,"div",14),l(),e(14,"svg",15),d(15,"path",16),i()(),c(),e(16,"div",12)(17,"h3",13),n(18," Cr\xE9dito disponible "),i(),e(19,"p",17),n(20),i()()()(),e(21,"div",1)(22,"div",8)(23,"div",18),l(),e(24,"svg",19),d(25,"path",20),i()(),c(),e(26,"div",12)(27,"h3",13),n(28,"Cr\xE9dito usado"),i(),e(29,"p",21),n(30),i()()()()(),e(31,"div",1)(32,"h2",22),n(33," Uso del cr\xE9dito "),i(),e(34,"div",23)(35,"span",24),n(36,"Utilizado"),i(),e(37,"span",25),n(38),i()(),e(39,"div",26),d(40,"div",27),i(),e(41,"div",28),n(42),i()(),e(43,"div",29)(44,"div",30)(45,"h2",31),n(46," Historial de transacciones "),i()(),u(47,M,8,0,"div",32)(48,U,3,0,"div",33),i(),e(49,"div",34)(50,"div",35)(51,"div",36),l(),e(52,"svg",37),d(53,"path",38),i()(),c(),e(54,"div",39)(55,"h3",40),n(56," Informaci\xF3n importante "),i(),e(57,"div",41)(58,"ul",42)(59,"li"),n(60," Tu l\xEDmite de cr\xE9dito se renueva autom\xE1ticamente al realizar pagos. "),i(),e(61,"li"),n(62,"Los pagos pueden tomar hasta 24 horas en reflejarse."),i(),e(63,"li"),n(64," Mant\xE9n un buen historial crediticio para aumentar tu l\xEDmite. "),i()()()()()()),o&2){let t=g();r(10),m(" S/ ",t.informacionCredito().limite_credito," "),r(10),m(" S/ ",t.informacionCredito().credito_disponible," "),r(10),m(" S/ ",t.informacionCredito().credito_usado," "),r(8),v(" ",t.porcentajeUtilizado(),"% (S/ ",t.informacionCredito().credito_usado,") "),r(2),_("width",t.porcentajeUtilizado(),"%"),x("bg-green-500",t.porcentajeUtilizado()<=50)("bg-yellow-500",t.porcentajeUtilizado()>50&&t.porcentajeUtilizado()<=80)("bg-red-500",t.porcentajeUtilizado()>80),r(2),m(" L\xEDmite total: S/ ",t.informacionCredito().limite_credito," "),r(5),f(t.transacciones().length===0?47:48)}}function G(o,a){o&1&&(e(0,"div",4)(1,"div",60),l(),e(2,"svg",61),d(3,"path",11),i()(),c(),e(4,"h3",46),n(5," Sin l\xEDnea de cr\xE9dito "),i(),e(6,"p",62),n(7," A\xFAn no tienes una l\xEDnea de cr\xE9dito asignada. Cont\xE1ctanos para solicitar una evaluaci\xF3n. "),i(),e(8,"button",63),n(9," Solicitar l\xEDnea de cr\xE9dito "),i()())}var I=class o{cuentaUsuarioService=h(k);informacionCredito=p(null);transacciones=p([]);isLoading=p(!1);porcentajeUtilizado=p(0);ngOnInit(){this.cargarInformacionCredito()}cargarInformacionCredito(){this.isLoading.set(!0),this.cuentaUsuarioService.getInformacionCredito().subscribe({next:a=>{if(a.status==="success"){this.informacionCredito.set(a.data),this.transacciones.set(a.data.historial_credito||[]);let t=a.data;t&&this.porcentajeUtilizado.set(t.porcentaje_usado||0)}this.isLoading.set(!1)},error:a=>{console.error("Error cargando informaci\xF3n de cr\xE9dito:",a),this.isLoading.set(!1)}})}getTipoTransaccionTexto(a){return{cargo:"Cargo por compra",pago:"Pago recibido",ajuste:"Ajuste de cuenta"}[a]||a}formatearFecha(a){return new Date(a).toLocaleDateString("es-PE",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["app-informacion-credito"]],standalone:!0,features:[E],decls:9,vars:1,consts:[[1,"space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-8","text-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600","mx-auto"],[1,"text-gray-600","mt-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"flex","items-center"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","text-green-600"],[1,"w-12","h-12","bg-red-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"mb-2","flex","justify-between","text-sm"],[1,"text-gray-600"],[1,"text-gray-900","font-medium"],[1,"w-full","bg-gray-200","rounded-full","h-3"],[1,"h-3","rounded-full","transition-all","duration-300"],[1,"mt-2","text-xs","text-gray-500"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"p-8","text-center"],[1,"divide-y","divide-gray-200"],[1,"bg-blue-50","rounded-lg","p-6"],[1,"flex"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-3"],[1,"text-sm","font-medium","text-blue-800"],[1,"mt-2","text-sm","text-blue-700"],[1,"list-disc","list-inside","space-y-1"],[1,"w-12","h-12","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"p-6","flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16l-4-4m0 0l4-4m-4 4h18"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 8l4 4m0 0l-4 4m4-4H3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-400","mt-1"],[1,"text-right"],[1,"text-lg","font-semibold"],[1,"text-xs","text-gray-500","mt-1"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"text-gray-600","mb-6"],[1,"px-4","py-2","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","transition-colors"]],template:function(t,s){t&1&&(e(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Informaci\xF3n de cr\xE9dito"),i(),e(4,"p",3),n(5," Gestiona tu l\xEDnea de cr\xE9dito y revisa tu historial "),i()(),u(6,T,4,0,"div",4)(7,V,65,15)(8,G,10,0,"div",4),i()),t&2&&(r(6),f(s.isLoading()?6:s.informacionCredito()?7:8))},dependencies:[y,w],encapsulation:2})};export{I as InformacionCreditoComponent};
