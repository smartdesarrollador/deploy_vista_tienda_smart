import './polyfills.server.mjs';
import{a as A}from"./chunk-BAWNJTOV.mjs";import{a as Z}from"./chunk-FHAFS73P.mjs";import{b as ee,c as j,d as te,e as U,f as ge,h as W,j as fe,k as ne,l as oe,m as xe,n as Ce,o as be,r as ie,s as $,t as ae}from"./chunk-NVKV2ZOG.mjs";import{a as K}from"./chunk-IWXR3RGQ.mjs";import{Aa as i,Ab as F,B as T,Ba as a,Ca as p,Da as k,Ea as C,Fa as s,I as g,J as f,Ja as c,K as _,Ka as b,L as w,La as x,Ma as R,R as L,S as O,Sa as V,Ta as Q,ac as z,ca as Y,ga as r,la as h,na as u,nb as M,oa as ue,pa as y,qa as N,ra as J,ta as v,va as d,wa as _e,xa as q,ya as S,z as P,za as E}from"./chunk-D7UFLJ5T.mjs";import{a as D,b as G}from"./chunk-5XUXGTUW.mjs";var ye=(n,e)=>e.id;function Me(n,e){n&1&&(i(0,"div",1)(1,"div",4),_(),i(2,"svg",5),p(3,"path",6),a(),w(),i(4,"div",7)(5,"h3",8),c(6," Algunos productos tienen problemas de disponibilidad "),a(),i(7,"p",9),c(8," Revisa los productos marcados y ajusta las cantidades seg\xFAn la disponibilidad. "),a()()()())}function we(n,e){if(n&1&&(i(0,"div",15),c(1),a()),n&2){let t=s().$implicit,o=s();r(),x(" -",o.calcularDescuento(t.precio,t.precio_oferta),"% ")}}function ke(n,e){if(n&1&&(i(0,"p",21),c(1),a()),n&2){let t=s().$implicit;r(),x("SKU: ",t.sku,"")}}function Pe(n,e){if(n&1&&(i(0,"div",42),p(1,"div",44),i(2,"span",37),c(3),a()()),n&2){let t=s(2).$implicit;r(),N("background-color",t.variacion.color.hex),r(2),b(t.variacion.color.nombre)}}function Se(n,e){if(n&1&&(i(0,"span",43),c(1),a()),n&2){let t=s(2).$implicit;r(),x(" Talla: ",t.variacion.talla," ")}}function Ee(n,e){if(n&1&&(i(0,"div",22),u(1,Pe,4,3,"div",42)(2,Se,2,1,"span",43),a()),n&2){let t=s().$implicit;r(),d(t.variacion!=null&&t.variacion.color?1:-1),r(),d(t.variacion!=null&&t.variacion.talla?2:-1)}}function Oe(n,e){n&1&&(_(),p(0,"path",25))}function Ie(n,e){n&1&&(_(),p(0,"path",6))}function Te(n,e){n&1&&(_(),p(0,"path",26))}function Ve(n,e){if(n&1&&(i(0,"div",29)(1,"span",45),c(2),a(),i(3,"span",46),c(4),a()()),n&2){let t=s().$implicit,o=s();r(2),x(" ",o.formatearPrecio(t.precio_oferta)," "),r(2),x(" ",o.formatearPrecio(t.precio)," ")}}function Fe(n,e){if(n&1&&(i(0,"span",30),c(1),a()),n&2){let t=s().$implicit,o=s();r(),x(" ",o.formatearPrecio(t.precio)," ")}}function De(n,e){n&1&&(i(0,"div",41),p(1,"div",47),a())}function Ge(n,e){if(n&1){let t=k();i(0,"div",2)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"img",14),C("click",function(){let l=g(t).$implicit,m=s();return f(m.verProducto(l.slug))})("error",function(l){g(t);let m=s();return f(m.onImagenError(l))}),a(),u(6,we,2,1,"div",15),a()(),i(7,"div",16)(8,"div",17)(9,"div",18)(10,"h3",19)(11,"button",20),C("click",function(){let l=g(t).$implicit,m=s();return f(m.verProducto(l.slug))}),c(12),a()(),u(13,ke,2,1,"p",21)(14,Ee,3,2,"div",22),i(15,"div",23)(16,"span"),_(),i(17,"svg",24),u(18,Oe,1,0,":svg:path",25)(19,Ie,1,0,":svg:path",6)(20,Te,1,0,":svg:path",26),a(),c(21),a()()(),w(),i(22,"div",27)(23,"div",28),u(24,Ve,5,2,"div",29)(25,Fe,2,1,"span",30),a(),i(26,"div",31)(27,"button",32),C("click",function(){let l=g(t).$implicit,m=s();return f(m.decrementarCantidad(l))}),_(),i(28,"svg",33),p(29,"path",34),a()(),w(),i(30,"input",35),C("change",function(l){let m=g(t).$implicit,I=s();return f(I.onCantidadChange(m,l))}),a(),i(31,"button",32),C("click",function(){let l=g(t).$implicit,m=s();return f(m.incrementarCantidad(l))}),_(),i(32,"svg",33),p(33,"path",36),a()()(),w(),i(34,"div",28)(35,"p",37),c(36,"Subtotal"),a(),i(37,"p",30),c(38),a()(),i(39,"button",38),C("click",function(){let l=g(t).$implicit,m=s();return f(m.removerItem(l))}),_(),i(40,"svg",39),p(41,"path",40),a(),c(42," Eliminar "),a()()()()()(),u(43,De,2,0,"div",41),a()}if(n&2){let t,o=e.$implicit,l=s();r(5),y("src",l.construirUrlImagen(o.imagen),Y)("alt",o.nombre),r(),d(l.tieneDescuento(o)?6:-1),r(6),x(" ",o.nombre," "),r(),d(o.sku?13:-1),r(),d(l.formatearVariaciones(o)?14:-1),r(2),v("inline-flex items-center px-2 py-1 rounded-md text-xs font-medium "+l.obtenerEstadoStock(o).clase),r(2),d((t=l.obtenerEstadoStock(o).estado)==="disponible"?18:t==="bajo"?19:20),r(3),x(" ",l.obtenerEstadoStock(o).mensaje," "),r(3),d(l.tieneDescuento(o)?24:25),r(3),y("disabled",l.cargando()||o.cantidad<=1),r(3),y("value",o.cantidad)("max",o.stock_disponible)("disabled",l.cargando()),r(),y("disabled",l.cargando()||o.cantidad>=o.stock_disponible),r(7),x(" ",l.formatearPrecio(o.subtotal)," "),r(),y("disabled",l.cargando()),r(4),d(l.cargando()?43:-1)}}function Ae(n,e){n&1&&(i(0,"div",3)(1,"p",48),c(2,"No hay productos en el carrito"),a()())}var re=class n{carritoService=P(A);router=P(z);items=this.carritoService.items;cargando=this.carritoService.cargando;error=this.carritoService.error;itemsOrdenados=M(()=>this.items().sort((e,t)=>new Date(t.agregado_en).getTime()-new Date(e.agregado_en).getTime()));tieneItemsConProblemas=M(()=>this.items().some(e=>e.stock_disponible<e.cantidad||e.stock_disponible===0));construirUrlImagen(e){return e?e.startsWith("http")?e:K.urlDominioApi+"/"+e:K.urlDominioApi+"/assets/productos/default.jpg"}onImagenError(e){let t=e.target;t&&(t.src=this.construirUrlImagen(""))}formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}actualizarCantidad(e,t){if(t<1){this.removerItem(e);return}t>e.stock_disponible&&(t=e.stock_disponible),t!==e.cantidad&&this.carritoService.actualizarCantidad(e.id,t).subscribe({next:o=>{o.success||console.error("Error al actualizar cantidad:",o.message)},error:o=>{console.error("Error al actualizar cantidad:",o)}})}incrementarCantidad(e){let t=e.cantidad+1;this.actualizarCantidad(e,t)}decrementarCantidad(e){let t=e.cantidad-1;t<1?this.removerItem(e):this.actualizarCantidad(e,t)}removerItem(e){confirm(`\xBFEst\xE1s seguro de que quieres eliminar "${e.nombre}" del carrito?`)&&this.carritoService.removerItem(e.id).subscribe({next:t=>{t.success||console.error("Error al remover item:",t.message)},error:t=>{console.error("Error al remover item:",t)}})}verProducto(e){this.router.navigate(["/producto",e])}calcularDescuento(e,t){return Math.round((e-t)/e*100)}tieneDescuento(e){return!!(e.precio_oferta&&e.precio_oferta<e.precio)}obtenerPrecioEfectivo(e){return e.precio_oferta&&e.precio_oferta<e.precio?e.precio_oferta:e.precio}formatearVariaciones(e){if(!e.variacion)return"";let t=[];return e.variacion.color&&t.push(`Color: ${e.variacion.color.nombre}`),e.variacion.talla&&t.push(`Talla: ${e.variacion.talla}`),Object.keys(e.variacion).forEach(o=>{o!=="color"&&o!=="talla"&&e.variacion[o]&&t.push(`${o}: ${e.variacion[o]}`)}),t.join(" \u2022 ")}obtenerEstadoStock(e){return e.stock_disponible===0?{estado:"agotado",mensaje:"Producto agotado",clase:"text-red-600 bg-red-50"}:e.stock_disponible<e.cantidad?{estado:"insuficiente",mensaje:`Solo ${e.stock_disponible} disponibles`,clase:"text-orange-600 bg-orange-50"}:e.stock_disponible<5?{estado:"bajo",mensaje:`${e.stock_disponible} en stock`,clase:"text-yellow-600 bg-yellow-50"}:{estado:"disponible",mensaje:"En stock",clase:"text-green-600 bg-green-50"}}onCantidadChange(e,t){let o=t.target,l=parseInt(o.value,10);if(isNaN(l)||l<1){o.value=e.cantidad.toString();return}this.actualizarCantidad(e,l)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-lista-items-carrito"]],standalone:!0,features:[V],decls:5,vars:2,consts:[[1,"space-y-4"],[1,"bg-orange-50","border","border-orange-200","rounded-lg","p-4"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden","transition-all","duration-200","hover:shadow-md"],[1,"text-center","py-8"],[1,"flex"],["viewBox","0 0 20 20","fill","currentColor",1,"flex-shrink-0","h-5","w-5","text-orange-400"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-orange-800"],[1,"mt-1","text-sm","text-orange-700"],[1,"p-4","sm:p-6"],[1,"flex","flex-col","sm:flex-row","gap-4"],[1,"flex-shrink-0"],[1,"relative"],["loading","lazy",1,"w-20","h-20","sm:w-24","sm:h-24","object-cover","rounded-lg","cursor-pointer","hover:opacity-90","transition-opacity","duration-200",3,"click","error","src","alt"],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","font-bold","px-2","py-1","rounded-full"],[1,"flex-1","min-w-0"],[1,"flex","flex-col","sm:flex-row","sm:justify-between"],[1,"flex-1","min-w-0","mr-4"],[1,"text-lg","font-medium","text-gray-900","truncate"],[1,"hover:text-blue-600","transition-colors","duration-200","text-left",3,"click"],[1,"text-sm","text-gray-500","mt-1"],[1,"mt-2","flex","flex-wrap","gap-2"],[1,"mt-3"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3","mr-1"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"flex","flex-col","items-end","space-y-3","mt-4","sm:mt-0"],[1,"text-right"],[1,"flex","flex-col","items-end"],[1,"text-lg","font-bold","text-gray-900"],[1,"flex","items-center","border","border-gray-300","rounded-lg"],[1,"px-3","py-2","text-gray-600","hover:text-gray-800","hover:bg-gray-50","disabled:text-gray-400","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 12H4"],["type","number","min","1",1,"w-16","px-2","py-2","text-center","border-0","focus:ring-0","text-sm","font-medium","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"change","value","max","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v12m6-6H6"],[1,"text-sm","text-gray-600"],[1,"flex","items-center","text-sm","text-red-600","hover:text-red-800","disabled:text-gray-400","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"absolute","inset-0","bg-white","bg-opacity-75","flex","items-center","justify-center"],[1,"flex","items-center","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-gray-100","text-gray-800"],[1,"w-4","h-4","rounded-full","border","border-gray-300"],[1,"text-lg","font-bold","text-green-600"],[1,"text-sm","text-gray-500","line-through"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"text-gray-500"]],template:function(t,o){t&1&&(i(0,"div",0),u(1,Me,9,0,"div",1),S(2,Ge,44,19,"div",2,ye),u(4,Ae,3,0,"div",3),a()),t&2&&(r(),d(o.tieneItemsConProblemas()?1:-1),r(),E(o.itemsOrdenados()),r(2),d(o.itemsOrdenados().length===0&&!o.cargando()?4:-1))},dependencies:[F,$],styles:['.item-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.item-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.product-image[_ngcontent-%COMP%]{transition:all .3s ease}.product-image[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 25px -3px #0000001a}.quantity-selector[_ngcontent-%COMP%]{background:#fff;border:1px solid #d1d5db}.quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .quantity-selector[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.quantity-selector[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.quantity-button[_ngcontent-%COMP%]{transition:all .2s ease}.quantity-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f3f4f6;transform:scale(1.1)}.quantity-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.discount-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-discount 2s infinite;box-shadow:0 4px 8px #ef44444d}@keyframes _ngcontent-%COMP%_pulse-discount{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.color-swatch[_ngcontent-%COMP%]{border:2px solid #e5e7eb;box-shadow:inset 0 1px 2px #0000001a}.stock-badge[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500;display:inline-flex;align-items:center}.stock-disponible[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.stock-bajo[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.stock-agotado[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.stock-insuficiente[_ngcontent-%COMP%]{background-color:#fed7aa;color:#9a3412}.action-button[_ngcontent-%COMP%]{transition:all .2s ease;position:relative;overflow:hidden}.action-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.action-button[_ngcontent-%COMP%]:hover:before{left:100%}.delete-button[_ngcontent-%COMP%]{transition:all .3s ease}.delete-button[_ngcontent-%COMP%]:hover{background-color:#fee2e2;color:#dc2626;transform:scale(1.05)}.loading-overlay[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);transition:all .3s ease}@media (max-width: 640px){.item-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.product-info[_ngcontent-%COMP%]{order:-1}.product-actions[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}.quantity-controls[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.fade-in-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInItem .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInItem{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fade-out-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOutItem .3s ease-in}@keyframes _ngcontent-%COMP%_fadeOutItem{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(-100%)}}.problem-indicator[_ngcontent-%COMP%]{position:relative}.problem-indicator[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-2px;right:-2px;width:8px;height:8px;background-color:#ef4444;border-radius:50%;animation:pulse 2s infinite}.price-highlight[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.05)}.price-original[_ngcontent-%COMP%]{position:relative}.price-original[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background-color:currentColor;opacity:.7}.focus-visible[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.375rem}.truncate-2[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.product-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.variation-chip[_ngcontent-%COMP%]{transition:all .2s ease}.variation-chip[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;transform:translateY(-1px)}']})};var Le=(n,e)=>e.id,je=()=>[1,2,3,4],ze=()=>[1,2,3,4,5],Ne=()=>["Electr\xF3nicos","Ropa","Hogar","Deportes"];function $e(n,e){n&1&&(i(0,"div",16),p(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20),a())}function Re(n,e){n&1&&(i(0,"div",15),S(1,$e,5,0,"div",16,q),a()),n&2&&(r(),E(Q(0,je)))}function Be(n,e){if(n&1&&(i(0,"div",24),c(1),a()),n&2){let t=s().$implicit,o=s(3);r(),x(" -",o.calcularDescuento(t.precio,t.precio_oferta),"% ")}}function He(n,e){if(n&1&&(i(0,"div",25),c(1),a()),n&2){let t=s().$implicit;r(),x(" \xA1\xDAltimas ",t.stock,"! ")}}function Ye(n,e){if(n&1&&(_(),i(0,"svg",36),p(1,"path",37),a()),n&2){let t=e.$implicit,o=s().$implicit;J("text-yellow-400",t<=o.calificacion)("text-gray-300",t>o.calificacion)}}function qe(n,e){if(n&1&&(i(0,"span",38),c(1),a(),i(2,"span",39),c(3),a()),n&2){let t=s().$implicit,o=s(3);r(),x(" ",o.formatearPrecio(t.precio_oferta)," "),r(2),x(" ",o.formatearPrecio(t.precio)," ")}}function Ue(n,e){if(n&1&&(i(0,"span",34),c(1),a()),n&2){let t=s().$implicit,o=s(3);r(),x(" ",o.formatearPrecio(t.precio)," ")}}function We(n,e){n&1&&c(0," Agotado ")}function Ke(n,e){n&1&&c(0," Ver producto ")}function Ze(n,e){if(n&1){let t=k();i(0,"div",21)(1,"div",22),p(2,"img",23),u(3,Be,2,1,"div",24)(4,He,2,1,"div",25),a(),i(5,"div",26)(6,"p",27),c(7),a(),i(8,"h4",28),c(9),a(),i(10,"div",29),S(11,Ye,2,4,":svg:svg",30,q),i(13,"span",31),c(14),a()(),i(15,"div",32)(16,"div",33),u(17,qe,4,2)(18,Ue,2,1,"span",34),a()(),i(19,"button",35),C("click",function(){let l=g(t).$implicit,m=s(3);return f(m.verProducto(l.slug))}),u(20,We,1,0)(21,Ke,1,0),a()()()}if(n&2){let t=e.$implicit;r(2),y("src",t.imagen,Y)("alt",t.nombre),r(),d(t.precio_oferta&&t.precio_oferta<t.precio?3:-1),r(),d(t.stock<5&&t.stock>0?4:-1),r(3),x(" ",t.categoria," "),r(2),x(" ",t.nombre," "),r(2),E(Q(10,ze)),r(3),x("(",t.calificacion,")"),r(3),d(t.precio_oferta&&t.precio_oferta<t.precio?17:18),r(2),y("disabled",t.stock===0),r(),d(t.stock===0?20:21)}}function Xe(n,e){if(n&1&&(i(0,"div",15),S(1,Ze,22,11,"div",21,Le),a()),n&2){let t=s(2);r(),E(t.productosRelacionados())}}function Je(n,e){if(n&1&&(i(0,"div",13)(1,"h3",14),c(2," Productos que podr\xEDan interesarte "),a(),u(3,Re,3,1,"div",15)(4,Xe,3,0,"div",15),a()),n&2){let t=s();r(3),d(t.cargando()?3:4)}}function Qe(n,e){n&1&&c(0," \u{1F4F1} ")}function et(n,e){n&1&&c(0," \u{1F455} ")}function tt(n,e){n&1&&c(0," \u{1F3E0} ")}function nt(n,e){n&1&&c(0," \u26BD ")}function ot(n,e){if(n&1){let t=k();i(0,"button",42),C("click",function(){let l=g(t).$implicit,m=s(2);return f(m.irACategoria(l))}),i(1,"div",43),u(2,Qe,1,0)(3,et,1,0)(4,tt,1,0)(5,nt,1,0),a(),i(6,"p",44),c(7),a()()}if(n&2){let t,o=e.$implicit;r(2),d((t=o)==="Electr\xF3nicos"?2:t==="Ropa"?3:t==="Hogar"?4:t==="Deportes"?5:-1),r(5),x(" ",o," ")}}function it(n,e){n&1&&(i(0,"div",13)(1,"h3",14),c(2," Explora nuestras categor\xEDas populares "),a(),i(3,"div",40),S(4,ot,8,2,"button",41,q),a()()),n&2&&(r(4),E(Q(0,Ne)))}var ce=class n{productosRelacionados=O([]);cargando=O(!1);router=P(z);formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}verProducto(e){this.router.navigate(["/producto",e])}irAlCatalogo(){this.router.navigate(["/catalogo"])}irACategoria(e){this.router.navigate(["/catalogo"],{queryParams:{categoria:e.toLowerCase()}})}calcularDescuento(e,t){return Math.round((e-t)/e*100)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-carrito-vacio"]],inputs:{productosRelacionados:[1,"productosRelacionados"],cargando:[1,"cargando"]},standalone:!0,features:[V],decls:20,vars:2,consts:[[1,"text-center","py-16"],[1,"mb-8"],[1,"mx-auto","flex","items-center","justify-center","w-24","h-24","bg-gray-100","rounded-full","mb-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.6 5.6M7 13l-1.6-5.6m0 0h15.2M17 21a2 2 0 100-4 2 2 0 000 4zM9 21a2 2 0 100-4 2 2 0 000 4z"],[1,"text-2xl","sm:text-3xl","font-bold","text-gray-900","mb-3"],[1,"text-gray-600","text-lg","max-w-md","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center","mb-12"],[1,"inline-flex","items-center","px-6","py-3","border","border-transparent","text-base","font-medium","rounded-lg","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-colors","duration-200","shadow-lg","hover:shadow-xl",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],[1,"inline-flex","items-center","px-6","py-3","border","border-gray-300","text-base","font-medium","rounded-lg","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"border-t","border-gray-200","pt-12"],[1,"text-xl","font-semibold","text-gray-900","mb-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-4","animate-pulse"],[1,"bg-gray-200","w-full","h-48","rounded-lg","mb-4"],[1,"bg-gray-200","h-4","rounded","mb-2"],[1,"bg-gray-200","h-4","rounded","w-3/4","mb-3"],[1,"bg-gray-200","h-6","rounded","w-1/2"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","hover:shadow-md","transition-shadow","duration-200","group"],[1,"relative","overflow-hidden","rounded-t-lg"],["loading","lazy",1,"w-full","h-48","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"absolute","top-2","left-2","bg-red-500","text-white","text-xs","font-bold","px-2","py-1","rounded"],[1,"absolute","top-2","right-2","bg-orange-500","text-white","text-xs","font-bold","px-2","py-1","rounded"],[1,"p-4"],[1,"text-xs","text-gray-500","uppercase","tracking-wider","mb-1"],[1,"font-medium","text-gray-900","mb-2","line-clamp-2","hover:text-blue-600","transition-colors"],[1,"flex","items-center","mb-3"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4",3,"text-yellow-400","text-gray-300"],[1,"text-sm","text-gray-500","ml-1"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center","space-x-2"],[1,"text-lg","font-bold","text-gray-900"],[1,"w-full","bg-blue-600","text-white","font-medium","py-2","px-4","rounded-lg","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors","duration-200","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2",3,"click","disabled"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[1,"text-lg","font-bold","text-green-600"],[1,"text-sm","text-gray-500","line-through"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","border","border-gray-200","rounded-lg","p-6","hover:border-blue-300","hover:shadow-md","transition-all","duration-200","group"],[1,"bg-white","border","border-gray-200","rounded-lg","p-6","hover:border-blue-300","hover:shadow-md","transition-all","duration-200","group",3,"click"],[1,"text-2xl","mb-2"],[1,"font-medium","text-gray-900","group-hover:text-blue-600","transition-colors"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),_(),i(3,"svg",3),p(4,"path",4),a()(),w(),i(5,"h2",5),c(6," Tu carrito est\xE1 vac\xEDo "),a(),i(7,"p",6),c(8," Parece que a\xFAn no has agregado ning\xFAn producto. \xA1Explora nuestro cat\xE1logo y encuentra algo que te guste! "),a()(),i(9,"div",7)(10,"button",8),C("click",function(){return o.irAlCatalogo()}),_(),i(11,"svg",9),p(12,"path",10),a(),c(13," Explorar productos "),a(),w(),i(14,"button",11),C("click",function(){return o.irACategoria("ofertas")}),_(),i(15,"svg",9),p(16,"path",12),a(),c(17," Ver ofertas "),a()(),u(18,Je,5,1,"div",13)(19,it,6,1,"div",13),a()),t&2&&(r(18),d(o.productosRelacionados().length>0||o.cargando()?18:-1),r(),d(o.productosRelacionados().length===0&&!o.cargando()?19:-1))},dependencies:[F],styles:['.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.product-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.image-hover[_ngcontent-%COMP%]{transition:transform .4s ease-in-out}.group[_ngcontent-%COMP%]:hover   .image-hover[_ngcontent-%COMP%]{transform:scale(1.08)}.discount-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-badge 2s infinite}@keyframes _ngcontent-%COMP%_pulse-badge{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.action-button[_ngcontent-%COMP%]{position:relative;overflow:hidden}.action-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.action-button[_ngcontent-%COMP%]:hover:before{left:100%}.category-card[_ngcontent-%COMP%]{transition:all .3s ease}.category-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);border-color:#3b82f6}.skeleton-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_skeleton-loading 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_skeleton-loading{0%{background-color:#f3f4f6}50%{background-color:#e5e7eb}to{background-color:#f3f4f6}}@media (max-width: 640px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}.category-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 641px) and (max-width: 1024px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.category-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.star-rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1px}.star[_ngcontent-%COMP%]{transition:color .2s ease}.price-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.price-original[_ngcontent-%COMP%]{text-decoration:line-through;color:#6b7280}.price-offer[_ngcontent-%COMP%]{color:#059669;font-weight:700}.btn-disabled[_ngcontent-%COMP%]{background-color:#d1d5db!important;color:#6b7280!important;cursor:not-allowed!important}.btn-disabled[_ngcontent-%COMP%]:hover{background-color:#d1d5db!important;transform:none!important}.focus-visible[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px}']})};var at=(n,e)=>e.tipo;function rt(n,e){n&1&&c(0," Resumen ")}function ct(n,e){n&1&&c(0," Resumen del pedido ")}function st(n,e){if(n&1&&(i(0,"span",3),c(1),a()),n&2){let t=s();r(),R(" ",t.totalItems()," ",t.totalItems()===1?"producto":"productos"," ")}}function lt(n,e){if(n&1&&(i(0,"div",4)(1,"div",20)(2,"span",21),c(3," \xA1Env\xEDo gratis disponible! "),a(),_(),i(4,"svg",22),p(5,"path",23),a()(),w(),i(6,"p",24),c(7),a(),i(8,"div",25),p(9,"div",26),a()()),n&2){let t=s();r(7),x(" Agrega ",t.formatearPrecio(t.faltaParaEnvioGratis())," m\xE1s para obtener env\xEDo gratuito "),r(2),N("width",t.resumen().subtotal/150*100,"%")}}function dt(n,e){if(n&1&&(i(0,"div",6)(1,"div",30),_(),i(2,"svg",31),p(3,"path",32),a(),w(),i(4,"span",33),c(5),a()(),i(6,"span",34),c(7),a()()),n&2){let t=e.$implicit,o=s(2);r(5),b(t.descripcion),r(2),x("-",o.formatearPrecio(t.monto),"")}}function mt(n,e){if(n&1&&(i(0,"div",9),S(1,dt,8,2,"div",6,at),i(3,"div",27)(4,"span",28),c(5,"Total ahorrado"),a(),i(6,"span",29),c(7),a()()()),n&2){let t=s();r(),E(t.resumen().descuentos_aplicados),r(6),x("-",t.resumenFormateado().descuentos_formatted,"")}}function pt(n,e){if(n&1&&(i(0,"div",6)(1,"span",7),c(2,"IGV (18%)"),a(),i(3,"span",8),c(4),a()()),n&2){let t=s();r(4),b(t.resumenFormateado().impuestos_formatted)}}function ut(n,e){if(n&1&&(i(0,"span",34),c(1,"\xA1Gratis!"),a(),i(2,"div",35),c(3),a()),n&2){let t=s();r(3),b(t.obtenerTiempoEntrega())}}function _t(n,e){if(n&1&&(i(0,"span",8),c(1),a(),i(2,"div",35),c(3),a()),n&2){let t=s();r(),b(t.resumenFormateado().costo_envio_formatted),r(2),b(t.obtenerTiempoEntrega())}}function gt(n,e){n&1&&(i(0,"span",11),c(1,"Calculado en checkout"),a())}function ft(n,e){if(n&1&&(i(0,"div",15),c(1),a()),n&2){let t=s();r(),x(" Ahorras ",t.formatearPrecio(t.ahorroTotal())," ")}}function xt(n,e){if(n&1){let t=k();i(0,"div",17)(1,"div",30),_(),i(2,"svg",36),p(3,"path",37),a(),w(),i(4,"div")(5,"span",38),c(6),a(),i(7,"div",39),c(8),a()()(),i(9,"button",40),C("click",function(){g(t);let l=s();return f(l.removerCupon())}),_(),i(10,"svg",41),p(11,"path",42),a()()()}if(n&2){let t=s();r(6),b(t.cuponAplicado().codigo),r(2),x(" ",t.cuponAplicado().descripcion," ")}}function Ct(n,e){if(n&1){let t=k();i(0,"button",44),C("click",function(){g(t);let l=s(2);return f(l.toggleFormularioCupon())}),_(),i(1,"svg",45),p(2,"path",32),a(),w(),i(3,"span",46),c(4," \xBFTienes un c\xF3digo de descuento? "),a()()}}function bt(n,e){n&1&&(_(),i(0,"svg",51),p(1,"path",54),a())}function vt(n,e){n&1&&c(0," Aplicar ")}function ht(n,e){if(n&1&&(i(0,"div",52),_(),i(1,"svg",55),p(2,"path",56),a(),c(3),a()),n&2){let t=s(3);r(3),x(" ",t.errorCupon()," ")}}function yt(n,e){if(n&1){let t=k();i(0,"form",47),C("ngSubmit",function(l){g(t);let m=s(2);return f(m.onSubmitCupon(l))}),i(1,"div",48)(2,"input",49),C("input",function(l){g(t);let m=s(2);return f(m.codigoCupon.set(l.target.value))}),a(),i(3,"button",50),u(4,bt,2,0,":svg:svg",51)(5,vt,1,0),a()(),u(6,ht,4,1,"div",52),i(7,"button",53),C("click",function(){g(t);let l=s(2);return f(l.toggleFormularioCupon())}),c(8," Cancelar "),a()()}if(n&2){let t=s(2);r(2),y("value",t.codigoCupon())("disabled",t.aplicandoCupon()),r(),y("disabled",!t.codigoCupon()||t.aplicandoCupon()),r(),d(t.aplicandoCupon()?4:5),r(2),d(t.errorCupon()?6:-1)}}function Mt(n,e){if(n&1&&(i(0,"div"),u(1,Ct,5,0,"button",43)(2,yt,9,5,"form",18),a()),n&2){let t=s();r(),d(t.mostrarFormularioCupon()?2:1)}}function wt(n,e){n&1&&c(0," Proceder al pago ")}function kt(n,e){n&1&&c(0," Iniciar sesi\xF3n y pagar ")}function Pt(n,e){if(n&1){let t=k();i(0,"button",62),C("click",function(){g(t);let l=s(2);return f(l.onContinuarClick())}),c(1," Continuar comprando "),a()}}function St(n,e){if(n&1){let t=k();i(0,"div",18)(1,"button",57),C("click",function(){g(t);let l=s();return f(l.onCheckoutClick())}),i(2,"div",58),_(),i(3,"svg",59),p(4,"path",60),a(),u(5,wt,1,0)(6,kt,1,0),a()(),u(7,Pt,2,0,"button",61),a()}if(n&2){let t=s();r(),y("disabled",!t.puedeIrAlCheckout()),r(4),d(t.esUsuarioLogueado()?5:6),r(2),d(t.mostrarBotonContinuar()?7:-1)}}function Et(n,e){n&1&&(i(0,"div",19)(1,"div",63)(2,"div",30),_(),i(3,"svg",64),p(4,"path",65),a(),w(),i(5,"span"),c(6,"Compra segura"),a()(),i(7,"div",30),_(),i(8,"svg",66),p(9,"path",67),a(),w(),i(10,"span"),c(11,"Devoluciones f\xE1ciles"),a()(),i(12,"div",30),_(),i(13,"svg",68),p(14,"path",69),a(),w(),i(15,"span"),c(16,"Entrega r\xE1pida"),a()(),i(17,"div",30),_(),i(18,"svg",70),p(19,"path",71),a(),w(),i(20,"span"),c(21,"Soporte 24/7"),a()()()())}var se=class n{carritoService=P(A);authService=P(Z);router=P(z);mostrarBotonCheckout=O(!0);mostrarBotonContinuar=O(!0);compacto=O(!1);sticky=O(!0);checkoutClick=L();continuarClick=L();codigoCupon=h("");aplicandoCupon=h(!1);errorCupon=h("");mostrarFormularioCupon=h(!1);resumen=this.carritoService.resumen;cuponAplicado=this.carritoService.cuponAplicado;estaVacio=this.carritoService.estaVacio;totalItems=this.carritoService.totalItems;cargando=this.carritoService.cargando;esUsuarioLogueado=M(()=>this.authService.isAuthenticated());puedeIrAlCheckout=M(()=>!this.estaVacio()&&!this.cargando());resumenFormateado=M(()=>{let e=this.resumen();return G(D({},e),{subtotal_formatted:this.formatearPrecio(e.subtotal),descuentos_formatted:this.formatearPrecio(e.descuentos),impuestos_formatted:this.formatearPrecio(e.impuestos),costo_envio_formatted:this.formatearPrecio(e.costo_envio),total_formatted:this.formatearPrecio(e.total)})});ahorroTotal=M(()=>this.resumen().descuentos);ngOnInit(){this.cuponAplicado()||(this.codigoCupon.set(""),this.errorCupon.set(""))}formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}formatearPorcentaje(e){return`${Math.round(e)}%`}aplicarCupon(){let e=this.codigoCupon().trim();if(!e){this.errorCupon.set("Ingresa un c\xF3digo de cup\xF3n");return}this.aplicandoCupon.set(!0),this.errorCupon.set("");let t={codigo:e};this.carritoService.aplicarCupon(t).subscribe({next:o=>{o.success?(this.codigoCupon.set(""),this.mostrarFormularioCupon.set(!1)):this.errorCupon.set(o.message||"Error al aplicar cup\xF3n")},error:()=>{this.errorCupon.set("Error al aplicar cup\xF3n. Intenta nuevamente.")},complete:()=>{this.aplicandoCupon.set(!1)}})}removerCupon(){let e=this.carritoService.cuponAplicado();e&&this.carritoService.removerCupon(e.codigo).subscribe({next:()=>{},error:()=>{console.error("Error al remover cup\xF3n")}})}toggleFormularioCupon(){this.mostrarFormularioCupon.update(e=>!e),this.mostrarFormularioCupon()&&this.errorCupon.set("")}onSubmitCupon(e){e.preventDefault(),this.aplicarCupon()}onCheckoutClick(){console.log("onCheckoutClick ejecutado"),console.log("puedeIrAlCheckout:",this.puedeIrAlCheckout()),console.log("esUsuarioLogueado:",this.esUsuarioLogueado()),console.log("AuthService isAuthenticated:",this.authService.isAuthenticated()),this.puedeIrAlCheckout()?this.esUsuarioLogueado()?(console.log("Emitiendo evento checkoutClick..."),this.checkoutClick.emit()):(console.log("Redirigiendo al login..."),this.router.navigate(["/auth/login"],{queryParams:{returnUrl:"/checkout"}})):console.log("No puede ir al checkout - carrito vac\xEDo o cargando")}onContinuarClick(){this.continuarClick.emit()}obtenerTiempoEntrega(){return"2-3 d\xEDas h\xE1biles"}aplicaEnvioGratis(){return this.resumen().subtotal>=150}faltaParaEnvioGratis(){let t=this.resumen().subtotal;return Math.max(0,150-t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-resumen-carrito"]],inputs:{mostrarBotonCheckout:[1,"mostrarBotonCheckout"],mostrarBotonContinuar:[1,"mostrarBotonContinuar"],compacto:[1,"compacto"],sticky:[1,"sticky"]},outputs:{checkoutClick:"checkoutClick",continuarClick:"continuarClick"},standalone:!0,features:[V],decls:36,vars:14,consts:[[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"mb-6","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"space-y-3","mb-6"],[1,"flex","justify-between","text-sm"],[1,"text-gray-600"],[1,"font-medium","text-gray-900"],[1,"space-y-2"],[1,"text-right"],[1,"font-medium","text-gray-500"],[1,"border-t","border-gray-200","pt-4","mb-6"],[1,"flex","justify-between","items-center"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-green-600"],[1,"mb-6"],[1,"flex","items-center","justify-between","p-3","bg-green-50","border","border-green-200","rounded-lg"],[1,"space-y-3"],[1,"mt-6","pt-6","border-t","border-gray-200"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-medium","text-blue-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-sm","text-blue-700","mb-3"],[1,"w-full","bg-blue-200","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full","transition-all","duration-300"],[1,"flex","justify-between","text-sm","pt-2","border-t","border-green-100"],[1,"text-green-700","font-medium"],[1,"font-bold","text-green-600"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-600","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"text-green-700","truncate"],[1,"font-medium","text-green-600"],[1,"text-xs","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-medium","text-green-800"],[1,"text-xs","text-green-700"],[1,"text-green-600","hover:text-green-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","items-center","justify-center","w-full","p-3","border-2","border-dashed","border-gray-300","rounded-lg","hover:border-blue-400","hover:bg-blue-50","transition-colors","group"],[1,"flex","items-center","justify-center","w-full","p-3","border-2","border-dashed","border-gray-300","rounded-lg","hover:border-blue-400","hover:bg-blue-50","transition-colors","group",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","group-hover:text-blue-500","mr-2"],[1,"text-sm","font-medium","text-gray-600","group-hover:text-blue-600"],[1,"space-y-3",3,"ngSubmit"],[1,"flex","gap-2"],["type","text","placeholder","C\xF3digo de cup\xF3n",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","disabled:bg-gray-100","disabled:cursor-not-allowed",3,"input","value","disabled"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","text-sm","font-medium","rounded-lg","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","animate-spin"],[1,"flex","items-center","text-sm","text-red-600"],["type","button",1,"text-sm","text-gray-500","hover:text-gray-700","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"checkout-button","w-full","bg-blue-600","text-white","font-semibold","py-3","px-4","rounded-lg","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-all","duration-200","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2",3,"click","disabled"],[1,"flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"secondary-button","w-full","bg-white","text-gray-700","font-medium","py-2","px-4","rounded-lg","border","border-gray-300","hover:bg-gray-50","transition-colors","duration-200"],[1,"secondary-button","w-full","bg-white","text-gray-700","font-medium","py-2","px-4","rounded-lg","border","border-gray-300","hover:bg-gray-50","transition-colors","duration-200",3,"click"],[1,"grid","grid-cols-2","gap-4","text-xs","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m5.25-1.5a2.25 2.25 0 00-4.5 0v-.7a3.7 3.7 0 10-7.4 0v.7a2.25 2.25 0 00-4.5 0v3a2.25 2.25 0 004.5 0V18a3 3 0 106 0v-3a2.25 2.25 0 004.5 0v-3z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-yellow-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"]],template:function(t,o){t&1&&(i(0,"div")(1,"div",0)(2,"div",1)(3,"h3",2),u(4,rt,1,0)(5,ct,1,0),a(),u(6,st,2,2,"span",3),a(),u(7,lt,10,3,"div",4),i(8,"div",5)(9,"div",6)(10,"span",7),c(11,"Subtotal"),a(),i(12,"span",8),c(13),a()(),u(14,mt,8,1,"div",9)(15,pt,5,1,"div",6),i(16,"div",6)(17,"span",7),c(18,"Env\xEDo"),a(),i(19,"div",10),u(20,ut,4,1)(21,_t,4,2)(22,gt,2,0,"span",11),a()()(),i(23,"div",12)(24,"div",13)(25,"span",2),c(26,"Total"),a(),i(27,"div",10)(28,"span",14),c(29),a(),u(30,ft,2,1,"div",15),a()()(),i(31,"div",16),u(32,xt,12,2,"div",17)(33,Mt,3,1,"div"),a(),u(34,St,8,3,"div",18)(35,Et,22,0,"div",19),a()()),t&2&&(v(o.sticky()?"lg:sticky lg:top-8":""),r(4),d(o.compacto()?4:5),r(2),d(o.compacto()?-1:6),r(),d(!o.aplicaEnvioGratis()&&o.faltaParaEnvioGratis()>0?7:-1),r(6),b(o.resumenFormateado().subtotal_formatted),r(),d(o.resumen().descuentos>0?14:-1),r(),d(o.resumen().impuestos>0?15:-1),r(5),d(o.aplicaEnvioGratis()?20:o.resumen().costo_envio>0?21:22),r(9),b(o.resumenFormateado().total_formatted),r(),d(o.ahorroTotal()>0?30:-1),r(2),d(o.cuponAplicado()?32:33),r(2),d(o.mostrarBotonCheckout()?34:-1),r(),d(o.compacto()?-1:35))},dependencies:[F,$,W,U,ge],styles:['.checkout-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3b82f6,#1d4ed8);transition:all .3s ease;position:relative;overflow:hidden}.checkout-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.checkout-button[_ngcontent-%COMP%]:hover:not(:disabled):before{left:100%}.checkout-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#1d4ed8,#1e40af);transform:translateY(-2px);box-shadow:0 10px 25px -3px #3b82f666}.checkout-button[_ngcontent-%COMP%]:disabled{background:#d1d5db!important;transform:none!important;box-shadow:none!important}.secondary-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.secondary-button[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#d1d5db;transform:translateY(-1px);box-shadow:0 4px 8px -2px #0000001a}.progress-bar[_ngcontent-%COMP%]{transition:width .6s cubic-bezier(.4,0,.2,1)}.discount-applied[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .4s ease-out}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.coupon-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:200px}}.coupon-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);border:1px solid #10b981}.coupon-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fca5a5);border:1px solid #ef4444}.coupon-input[_ngcontent-%COMP%]{transition:all .3s ease}.coupon-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a;border-color:#3b82f6}.dashed-button[_ngcontent-%COMP%]{transition:all .3s ease;background:linear-gradient(135deg,#fff,#f9fafb)}.dashed-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#eff6ff,#dbeafe);border-color:#3b82f6;transform:translateY(-1px)}.guarantee-item[_ngcontent-%COMP%]{transition:all .2s ease}.guarantee-item[_ngcontent-%COMP%]:hover{transform:translateY(-1px);color:#374151}.guarantee-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .2s ease}.guarantee-item[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:scale(1.1)}.total-highlight[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.05)}.discount-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInLeft .4s ease-out}@keyframes _ngcontent-%COMP%_fadeInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.shipping-progress[_ngcontent-%COMP%]{background:linear-gradient(90deg,#dbeafe,#bfdbfe);position:relative;overflow:hidden}.shipping-progress[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}.loading-overlay[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);transition:all .3s ease}@media (max-width: 640px){.guarantee-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}.checkout-button[_ngcontent-%COMP%]{font-size:.9rem;padding:.875rem 1rem}}.focus-visible[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.375rem}.pulse-subtle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseSubtle 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulseSubtle{0%,to{opacity:1}50%{opacity:.9}}.truncate-discount[_ngcontent-%COMP%]{max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sticky-enhanced[_ngcontent-%COMP%]{transition:box-shadow .3s ease}.sticky-enhanced.scrolled[_ngcontent-%COMP%]{box-shadow:0 10px 25px -3px #0000001a,0 4px 6px -2px #0000000d}']})};var Ot=(n,e)=>e.id;function It(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",21),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function Tt(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",22),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function Vt(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",23),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function Ft(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",24),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function Dt(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",25),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function Gt(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",26),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function At(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",27),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function Lt(n,e){if(n&1&&(_(),i(0,"svg",20),p(1,"path",24),a()),n&2){let t=s().$implicit,o=s();v("w-5 h-5 "+o.getClasesIconoPorTipo(t.tipo))}}function jt(n,e){if(n&1){let t=k();i(0,"div",12)(1,"button",28),C("click",function(){g(t);let l=s().$implicit,m=s();return f(m.ejecutarAccion(l))}),c(2),a()()}if(n&2){let t=s().$implicit,o=s();r(),v("text-sm font-medium underline transition-colors duration-200 "+o.getClasesBotonPorTipo(t.tipo)),r(),x(" ",t.accion.texto," ")}}function zt(n,e){if(n&1){let t=k();i(0,"div",3)(1,"div",4)(2,"div",5),u(3,It,2,2,":svg:svg",6)(4,Tt,2,2,":svg:svg",6)(5,Vt,2,2,":svg:svg",6)(6,Ft,2,2,":svg:svg",6)(7,Dt,2,2,":svg:svg",6)(8,Gt,2,2,":svg:svg",6)(9,At,2,2,":svg:svg",6)(10,Lt,2,2,":svg:svg",6),a(),i(11,"div",7)(12,"div",8)(13,"h4",9),c(14),a(),i(15,"span",10),c(16),a()(),i(17,"p",11),c(18),a(),u(19,jt,3,3,"div",12),a(),i(20,"div",13)(21,"button",14),C("click",function(){let l=g(t).$implicit,m=s();return f(m.removerNotificacion(l.id))}),i(22,"span",15),c(23,"Cerrar notificaci\xF3n"),a(),_(),i(24,"svg",16),p(25,"path",17),a()()()(),w(),i(26,"div",18),p(27,"div",19),a()()}if(n&2){let t,o=e.$implicit,l=s();v("notification-toast rounded-lg border shadow-lg p-4 transform transition-all duration-300 ease-in-out "+l.getClasesPorTipo(o.tipo)+(o.visible?" translate-x-0 opacity-100":" translate-x-full opacity-0")),ue("data-notification-id",o.id),r(3),d((t=o.icono)==="check-circle"?3:t==="x-circle"?4:t==="exclamation-triangle"?5:t==="information-circle"?6:t==="tag"?7:t==="trash"?8:t==="refresh"?9:10),r(11),b(o.titulo),r(2),b(l.formatearTiempo(o.timestamp)),r(2),b(o.mensaje),r(),d(o.accion?19:-1),r(2),v("focus:ring-"+o.tipo+"-500"),r(6),v(o.tipo==="success"?"bg-green-500":o.tipo==="error"?"bg-red-500":o.tipo==="warning"?"bg-yellow-500":"bg-blue-500"),N("animation-duration",o.duracion,"ms")}}function Nt(n,e){if(n&1){let t=k();i(0,"div",2)(1,"button",29),C("click",function(){g(t);let l=s();return f(l.limpiarNotificaciones())}),c(2," Limpiar todas "),a()()}}var le=class n{carritoService=P(A);notificaciones=h([]);maxNotificaciones=h(5);eventosSubscription;notificacionesVisibles=M(()=>this.notificaciones().filter(e=>e.visible));tieneNotificaciones=M(()=>this.notificacionesVisibles().length>0);ngOnInit(){this.eventosSubscription=this.carritoService.eventos$.subscribe(e=>{e&&this.procesarEventoCarrito(e)})}ngOnDestroy(){this.eventosSubscription?.unsubscribe()}procesarEventoCarrito(e){let t={id:`${e.tipo}_${Date.now()}`,timestamp:e.timestamp,visible:!0,duracion:4e3};switch(e.tipo){case"item_agregado":t=G(D({},t),{tipo:"success",titulo:"\xA1Producto agregado!",mensaje:`${e.item?.nombre} se agreg\xF3 al carrito`,icono:"check-circle",accion:{texto:"Ver carrito",callback:()=>this.irAlCarrito()}});break;case"item_removido":t=G(D({},t),{tipo:"info",titulo:"Producto eliminado",mensaje:`${e.item?.nombre} se elimin\xF3 del carrito`,icono:"trash",duracion:3e3});break;case"cantidad_actualizada":t=G(D({},t),{tipo:"info",titulo:"Cantidad actualizada",mensaje:`${e.item?.nombre}: ${e.cantidad_anterior} \u2192 ${e.cantidad_nueva}`,icono:"refresh",duracion:3e3});break;case"cupon_aplicado":t=G(D({},t),{tipo:"success",titulo:"\xA1Cup\xF3n aplicado!",mensaje:`C\xF3digo "${e.cupon}" aplicado correctamente`,icono:"tag",duracion:5e3,accion:{texto:"Ver descuento",callback:()=>this.scrollToResumen()}});break;case"carrito_limpiado":t=G(D({},t),{tipo:"warning",titulo:"Carrito limpiado",mensaje:"Todos los productos fueron eliminados del carrito",icono:"exclamation-triangle",duracion:4e3});break;default:return}this.agregarNotificacion(t)}agregarNotificacion(e){let t=this.notificaciones();if(t.length>=this.maxNotificaciones()){let o=t[0];this.removerNotificacion(o.id)}this.notificaciones.update(o=>[...o,e]),setTimeout(()=>{this.removerNotificacion(e.id)},e.duracion)}mostrarNotificacion(e,t,o,l=4e3,m){let I={id:`manual_${Date.now()}`,tipo:e,titulo:t,mensaje:o,icono:this.getIconoPorTipo(e),duracion:l,accion:m,timestamp:new Date,visible:!0};this.agregarNotificacion(I)}removerNotificacion(e){this.notificaciones.update(t=>t.map(o=>o.id===e?G(D({},o),{visible:!1}):o)),setTimeout(()=>{this.notificaciones.update(t=>t.filter(o=>o.id!==e))},300)}limpiarNotificaciones(){this.notificaciones.update(e=>e.map(t=>G(D({},t),{visible:!1}))),setTimeout(()=>{this.notificaciones.set([])},300)}ejecutarAccion(e){e.accion&&(e.accion.callback(),this.removerNotificacion(e.id))}getIconoPorTipo(e){return{success:"check-circle",error:"x-circle",warning:"exclamation-triangle",info:"information-circle"}[e]}getClasesPorTipo(e){return{success:"bg-green-50 border-green-200 text-green-900",error:"bg-red-50 border-red-200 text-red-900",warning:"bg-yellow-50 border-yellow-200 text-yellow-900",info:"bg-blue-50 border-blue-200 text-blue-900"}[e]}getClasesIconoPorTipo(e){return{success:"text-green-400",error:"text-red-400",warning:"text-yellow-400",info:"text-blue-400"}[e]}getClasesBotonPorTipo(e){return{success:"text-green-600 hover:text-green-800",error:"text-red-600 hover:text-red-800",warning:"text-yellow-600 hover:text-yellow-800",info:"text-blue-600 hover:text-blue-800"}[e]}formatearTiempo(e){let o=new Date().getTime()-e.getTime(),l=Math.floor(o/1e3);return l<60?"Ahora":l<3600?`${Math.floor(l/60)}m`:`${Math.floor(l/3600)}h`}irAlCarrito(){console.log("Navegando al carrito...")}scrollToResumen(){let e=document.querySelector("[data-carrito-resumen]");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-notificaciones-carrito"]],standalone:!0,features:[V],decls:4,vars:1,consts:[[1,"fixed","top-4","right-4","z-50","space-y-2","max-w-sm","w-full"],["role","alert","aria-live","polite",3,"class"],[1,"flex","justify-end","mt-2"],["role","alert","aria-live","polite"],[1,"flex","items-start"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"class"],[1,"ml-3","flex-1"],[1,"flex","justify-between","items-start","mb-1"],[1,"text-sm","font-medium"],[1,"text-xs","opacity-75","ml-2"],[1,"text-sm","opacity-90"],[1,"mt-3"],[1,"ml-3","flex-shrink-0"],[1,"inline-flex","rounded-md","p-1.5","transition-colors","duration-200","hover:bg-black","hover:bg-opacity-10","focus:outline-none","focus:ring-2","focus:ring-offset-2",3,"click"],[1,"sr-only"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","opacity-60","hover:opacity-80"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"mt-3","w-full","bg-black","bg-opacity-10","rounded-full","h-1","overflow-hidden"],[1,"progress-bar","h-full","rounded-full","transition-all","ease-linear"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[3,"click"],[1,"text-xs","text-gray-500","hover:text-gray-700","transition-colors","duration-200","bg-white","rounded-full","px-3","py-1","shadow-sm","border","border-gray-200","hover:border-gray-300",3,"click"]],template:function(t,o){t&1&&(i(0,"div",0),S(1,zt,28,14,"div",1,Ot),u(3,Nt,3,0,"div",2),a()),t&2&&(r(),E(o.notificacionesVisibles()),r(2),d(o.notificacionesVisibles().length>1?3:-1))},dependencies:[F],styles:[".notification-container[_ngcontent-%COMP%]{pointer-events:none}.notification-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:auto}.notification-toast[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;transition:all .3s cubic-bezier(.4,0,.2,1)}.notification-toast[_ngcontent-%COMP%]:hover{transform:translateY(-2px)!important;box-shadow:0 25px 50px -12px #00000040}.notification-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}.notification-exit[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideOutRight .3s ease-in}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideOutRight{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}.notification-action[_ngcontent-%COMP%]{transition:all .2s ease}.notification-action[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.progress-bar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_progress-countdown linear forwards;transform-origin:left}@keyframes _ngcontent-%COMP%_progress-countdown{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.notification-success[_ngcontent-%COMP%]{border-left:4px solid #10b981}.notification-error[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.notification-warning[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.notification-info[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.icon-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_iconPulse 2s infinite}@keyframes _ngcontent-%COMP%_iconPulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.close-button[_ngcontent-%COMP%]{transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a;transform:scale(1.1)}.message-text[_ngcontent-%COMP%]{word-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}@media (max-width: 640px){.notification-toast[_ngcontent-%COMP%]{max-width:calc(100vw - 2rem);margin:0 1rem}.notification-container[_ngcontent-%COMP%]{left:0;right:0;top:1rem}}.notification-toast[_ngcontent-%COMP%]:focus-within{outline:2px solid #3b82f6;outline-offset:2px}.notification-stack[_ngcontent-%COMP%]{transform-style:preserve-3d}.notification-stack[_ngcontent-%COMP%]   .notification-toast[_ngcontent-%COMP%]:nth-child(2){transform:translateY(-4px) scale(.98);opacity:.9;z-index:-1}.notification-stack[_ngcontent-%COMP%]   .notification-toast[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-8px) scale(.96);opacity:.8;z-index:-2}.notification-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.notification-gradient-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.notification-gradient-error[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fee2e2,#fca5a5)}.notification-gradient-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fcd34d)}.notification-gradient-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#93c5fd)}.clear-all-button[_ngcontent-%COMP%]{transition:all .3s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.clear-all-button[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;transform:translateY(-1px);box-shadow:0 4px 8px -2px #0000001a}.time-indicator[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums;transition:opacity .2s ease}.notification-toast[_ngcontent-%COMP%]:hover   .time-indicator[_ngcontent-%COMP%]{opacity:1}.notification-toast[_ngcontent-%COMP%]{will-change:transform,opacity}.progress-bar[_ngcontent-%COMP%]{will-change:transform}@media (prefers-color-scheme: dark){.notification-toast[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}}",`.progress-bar[_ngcontent-%COMP%] {
    animation: _ngcontent-%COMP%_progress-countdown linear forwards;
  }

  @keyframes _ngcontent-%COMP%_progress-countdown {
    from {
      width: 100%;
    }
    to {
      width: 0%;
    }
  }`]})};var X=(n,e)=>e.id;function $t(n,e){n&1&&c(0," Env\xEDo ")}function Rt(n,e){n&1&&c(0," Opciones de Env\xEDo ")}function Bt(n,e){if(n&1&&(i(0,"span",3),c(1),a()),n&2){let t=s();r(),x(" Peso: ",t.pesoTotal(),"kg ")}}function Ht(n,e){n&1&&(i(0,"span",22),c(1," Predeterminada "),a())}function Yt(n,e){n&1&&p(0,"div",24)}function qt(n,e){if(n&1){let t=k();i(0,"div",17),C("click",function(){let l=g(t).$implicit,m=s(2);return f(m.usarDireccionGuardada(l))}),i(1,"div",18)(2,"div",19)(3,"div",20)(4,"span",21),c(5),a(),u(6,Ht,2,0,"span",22),a(),i(7,"p",23),c(8),a()(),i(9,"div"),u(10,Yt,1,0,"div",24),a()()()}if(n&2){let t,o,l,m=e.$implicit,I=s(2);v("p-3 border rounded-lg cursor-pointer transition-all duration-200 "+(((t=I.direccionSeleccionada())==null?null:t.id)===m.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50")),r(5),b(m.alias),r(),d(m.predeterminada?6:-1),r(2),R(" ",m.direccion,", ",m.distrito," "),r(),v("w-4 h-4 rounded-full border-2 flex items-center justify-center "+(((o=I.direccionSeleccionada())==null?null:o.id)===m.id?"border-blue-500":"border-gray-300")),r(),d(((l=I.direccionSeleccionada())==null?null:l.id)===m.id?10:-1)}}function Ut(n,e){if(n&1){let t=k();i(0,"div",4)(1,"h4",10),c(2," Direcciones guardadas "),a(),i(3,"div",11),S(4,qt,11,9,"div",12,X),a(),i(6,"button",13),C("click",function(){g(t);let l=s();return f(l.toggleFormularioDireccion())}),i(7,"div",14),_(),i(8,"svg",15),p(9,"path",16),a(),c(10," Usar nueva direcci\xF3n "),a()()()}if(n&2){let t=s();r(4),E(t.direccionesGuardadas())}}function Wt(n,e){if(n&1&&(i(0,"option",29),c(1),a()),n&2){let t=e.$implicit;y("value",t.id),r(),b(t.nombre)}}function Kt(n,e){if(n&1&&(i(0,"option",29),c(1),a()),n&2){let t=e.$implicit;y("value",t.id),r(),b(t.nombre)}}function Zt(n,e){if(n&1&&(i(0,"option",29),c(1),a()),n&2){let t=e.$implicit;y("value",t.id),r(),b(t.nombre)}}function Xt(n,e){n&1&&(i(0,"div",42),_(),i(1,"svg",43),p(2,"circle",44)(3,"path",45),a(),c(4," Calculando opciones... "),a())}function Jt(n,e){n&1&&c(0," Calcular opciones de env\xEDo ")}function Qt(n,e){if(n&1){let t=k();i(0,"form",5)(1,"div",25)(2,"div")(3,"label",26),c(4," Departamento "),a(),i(5,"select",27)(6,"option",28),c(7,"Seleccionar departamento"),a(),S(8,Wt,2,2,"option",29,X),a()(),i(10,"div")(11,"label",26),c(12," Provincia "),a(),i(13,"select",30)(14,"option",28),c(15,"Seleccionar provincia"),a(),S(16,Kt,2,2,"option",29,X),a()(),i(18,"div")(19,"label",26),c(20," Distrito "),a(),i(21,"select",31)(22,"option",28),c(23,"Seleccionar distrito"),a(),S(24,Zt,2,2,"option",29,X),a()(),i(26,"div")(27,"label",26),c(28," C\xF3digo Postal "),a(),p(29,"input",32),a()(),i(30,"div")(31,"label",26),c(32," Direcci\xF3n completa "),a(),p(33,"input",33),a(),i(34,"div")(35,"label",26),c(36," Referencia (opcional) "),a(),p(37,"input",34),a(),i(38,"div")(39,"label",26),c(40," Tipo de direcci\xF3n "),a(),i(41,"div",35)(42,"label",36),p(43,"input",37),i(44,"span",38),c(45,"Casa"),a()(),i(46,"label",36),p(47,"input",39),i(48,"span",38),c(49,"Oficina"),a()(),i(50,"label",36),p(51,"input",40),i(52,"span",38),c(53,"Otro"),a()()()(),i(54,"button",41),C("click",function(){g(t);let l=s();return f(l.calcularOpcionesEnvio())}),u(55,Xt,5,0,"div",42)(56,Jt,1,0),a()()}if(n&2){let t=s();y("formGroup",t.direccionForm),r(8),E(t.departamentos()),r(5),y("disabled",t.provinciasDisponibles().length===0),r(3),E(t.provinciasDisponibles()),r(5),y("disabled",t.distritosDisponibles().length===0),r(3),E(t.distritosDisponibles()),r(30),y("disabled",!t.puedeCalcular()),r(),d(t.calculando()?55:56)}}function en(n,e){if(n&1&&(i(0,"div",6)(1,"div",46),_(),i(2,"svg",47),p(3,"path",48),a(),w(),i(4,"div",49)(5,"p",50),c(6),a()()()()),n&2){let t=s();r(6),b(t.errorCalculo())}}function tn(n,e){n&1&&(i(0,"span",22),c(1," Tracking "),a())}function nn(n,e){n&1&&(i(0,"span",58),c(1," Seguro "),a())}function on(n,e){n&1&&p(0,"div",59)}function an(n,e){if(n&1){let t=k();i(0,"div",17),C("click",function(){let l=g(t).$implicit,m=s(2);return f(m.seleccionarOpcion(l))}),i(1,"div",18)(2,"div",19)(3,"div",52)(4,"h5",53),c(5),a(),i(6,"span",54),c(7),a()(),i(8,"p",55),c(9),a(),i(10,"div",56)(11,"div",57)(12,"span"),c(13),a(),i(14,"span"),c(15),a()(),i(16,"div",20),u(17,tn,2,0,"span",22)(18,nn,2,0,"span",58),a()()(),i(19,"div"),u(20,on,1,0,"div",59),a()()()}if(n&2){let t,o,l,m=e.$implicit,I=s(2);v("shipping-option p-4 border rounded-lg cursor-pointer transition-all duration-200 "+(((t=I.opcionSeleccionadaLocal())==null?null:t.id)===m.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm")),r(5),b(m.nombre),r(2),b(I.formatearPrecio(m.precio)),r(2),b(m.descripcion),r(4),x("\u{1F4E6} ",m.empresa,""),r(2),x("\u23F1\uFE0F ",I.formatearTiempoEntrega(m),""),r(2),d(m.incluye_tracking?17:-1),r(),d(m.incluye_seguro?18:-1),r(),v("ml-4 w-5 h-5 rounded-full border-2 flex items-center justify-center "+(((o=I.opcionSeleccionadaLocal())==null?null:o.id)===m.id?"border-blue-500":"border-gray-300")),r(),d(((l=I.opcionSeleccionadaLocal())==null?null:l.id)===m.id?20:-1)}}function rn(n,e){if(n&1&&(i(0,"div",7)(1,"h4",51),c(2,"Opciones disponibles"),a(),S(3,an,21,12,"div",12,X),a()),n&2){let t=s();r(3),E(t.opcionesEnvio())}}function cn(n,e){if(n&1&&(i(0,"div",8)(1,"div",36),_(),i(2,"svg",60),p(3,"path",61),a(),w(),i(4,"div",19)(5,"h4",62),c(6),a(),i(7,"p",63),c(8),a()()()()),n&2){let t=s();r(6),R(" ",t.opcionSeleccionadaLocal().nombre," - ",t.formatearPrecio(t.opcionSeleccionadaLocal().precio)," "),r(2),x(" Entrega estimada: ",t.formatearTiempoEntrega(t.opcionSeleccionadaLocal())," ")}}function sn(n,e){n&1&&(i(0,"div",9),p(1,"div",64),i(2,"span",65),c(3,"Calculando mejores opciones..."),a()())}var de=class n{carritoService=P(A);fb=P(ie);compacto=O(!1);mostrarDirecciones=O(!0);mostrarMapaInteractivo=O(!1);opcionSeleccionada=L();direccionActualizada=L();calculando=h(!1);opcionesEnvio=h([]);opcionSeleccionadaLocal=h(null);errorCalculo=h("");departamentos=h([]);provinciasDisponibles=h([]);distritosDisponibles=h([]);direccionesGuardadas=h([]);mostrarFormularioDireccion=h(!1);direccionSeleccionada=h(null);direccionForm;resumen=this.carritoService.resumen;items=this.carritoService.items;pesoTotal=M(()=>this.items().reduce((e,t)=>e+t.peso*t.cantidad,0));tiempoEntregaMinimo=M(()=>{let e=this.opcionesEnvio();return e.length===0?null:Math.min(...e.map(t=>t.tiempo_entrega_min))});tiempoEntregaMaximo=M(()=>{let e=this.opcionesEnvio();return e.length===0?null:Math.max(...e.map(t=>t.tiempo_entrega_max))});puedeCalcular=M(()=>this.direccionForm?.valid&&!this.calculando());ngOnInit(){this.inicializarFormulario(),this.cargarDepartamentos(),this.cargarDireccionesGuardadas()}inicializarFormulario(){this.direccionForm=this.fb.group({departamento:["",[j.required]],provincia:["",[j.required]],distrito:["",[j.required]],direccion:["",[j.required,j.minLength(10)]],referencia:[""],codigo_postal:[""],tipo_direccion:["casa",[j.required]]}),this.direccionForm.get("departamento")?.valueChanges.subscribe(e=>{this.onDepartamentoChange(e)}),this.direccionForm.get("provincia")?.valueChanges.subscribe(e=>{this.onProvinciaChange(e)}),this.direccionForm.get("distrito")?.valueChanges.subscribe(e=>{this.onDistritoChange(e)})}cargarDepartamentos(){let e=[{id:"lima",nombre:"Lima",provincias:[{id:"lima",nombre:"Lima",distritos:[{id:"miraflores",nombre:"Miraflores",codigo_postal:"15074",zona_envio:"metropolitana"},{id:"san-isidro",nombre:"San Isidro",codigo_postal:"15073",zona_envio:"metropolitana"},{id:"surco",nombre:"Santiago de Surco",codigo_postal:"15023",zona_envio:"metropolitana"},{id:"san-borja",nombre:"San Borja",codigo_postal:"15021",zona_envio:"metropolitana"}]}]},{id:"arequipa",nombre:"Arequipa",provincias:[{id:"arequipa",nombre:"Arequipa",distritos:[{id:"arequipa",nombre:"Arequipa",codigo_postal:"04001",zona_envio:"urbana"},{id:"cayma",nombre:"Cayma",codigo_postal:"04017",zona_envio:"urbana"}]}]}];this.departamentos.set(e)}cargarDireccionesGuardadas(){let e=[{id:"1",alias:"Casa",departamento:"Lima",provincia:"Lima",distrito:"Miraflores",direccion:"Av. Larco 123, Miraflores",referencia:"Frente al parque Kennedy",codigo_postal:"15074",tipo_direccion:"casa",predeterminada:!0}];this.direccionesGuardadas.set(e)}onDepartamentoChange(e){let t=this.departamentos().find(o=>o.id===e);this.provinciasDisponibles.set(t?.provincias||[]),this.distritosDisponibles.set([]),this.direccionForm.patchValue({provincia:"",distrito:"",codigo_postal:""}),this.opcionesEnvio.set([])}onProvinciaChange(e){let t=this.provinciasDisponibles().find(o=>o.id===e);this.distritosDisponibles.set(t?.distritos||[]),this.direccionForm.patchValue({distrito:"",codigo_postal:""}),this.opcionesEnvio.set([])}onDistritoChange(e){let t=this.distritosDisponibles().find(o=>o.id===e);t&&(this.direccionForm.patchValue({codigo_postal:t.codigo_postal}),this.direccionForm.get("direccion")?.value&&this.calcularOpcionesEnvio())}calcularOpcionesEnvio(){if(!this.puedeCalcular())return;this.calculando.set(!0),this.errorCalculo.set("");let e=this.direccionForm.value,t=this.distritosDisponibles().find(o=>o.id===e.distrito);if(!t){this.errorCalculo.set("Distrito no v\xE1lido"),this.calculando.set(!1);return}setTimeout(()=>{let o=this.generarOpcionesEnvio(t.zona_envio);if(this.opcionesEnvio.set(o),this.calculando.set(!1),o.length>0&&!this.opcionSeleccionadaLocal()){let l=o.reduce((m,I)=>I.precio<m.precio?I:m);this.seleccionarOpcion(l)}},1500)}generarOpcionesEnvio(e){let t=this.pesoTotal(),o=[],m={metropolitana:{express:15,standard:8,economico:5},urbana:{express:25,standard:15,economico:10},rural:{express:40,standard:25,economico:18}}[e];return o.push({id:"express",nombre:"Env\xEDo Express",descripcion:"Entrega r\xE1pida en el menor tiempo posible",precio:m.express+Math.ceil(t*.5),tiempo_entrega_min:1,tiempo_entrega_max:2,tiempo_unidad:"dias",empresa:"CourierExpress",incluye_seguro:!0,incluye_tracking:!0,logo_empresa:"/assets/logos/courier-express.png"}),o.push({id:"standard",nombre:"Env\xEDo Standard",descripcion:"Entrega confiable en tiempo est\xE1ndar",precio:m.standard+Math.ceil(t*.3),tiempo_entrega_min:2,tiempo_entrega_max:4,tiempo_unidad:"dias",empresa:"Env\xEDosR\xE1pidos",incluye_seguro:!0,incluye_tracking:!0,logo_empresa:"/assets/logos/envios-rapidos.png"}),o.push({id:"economico",nombre:"Env\xEDo Econ\xF3mico",descripcion:"Opci\xF3n m\xE1s econ\xF3mica, perfecto para compras sin prisa",precio:m.economico+Math.ceil(t*.2),tiempo_entrega_min:5,tiempo_entrega_max:8,tiempo_unidad:"dias",empresa:"PostalNacional",incluye_seguro:!1,incluye_tracking:!1,logo_empresa:"/assets/logos/postal-nacional.png"}),o}seleccionarOpcion(e){this.opcionSeleccionadaLocal.set(e),this.opcionSeleccionada.emit(e)}usarDireccionGuardada(e){this.direccionSeleccionada.set(e);let t=this.departamentos().find(o=>o.nombre===e.departamento);if(t){let o=t.provincias.find(l=>l.nombre===e.provincia);if(o){let l=o.distritos.find(m=>m.nombre===e.distrito);this.provinciasDisponibles.set(t.provincias),this.distritosDisponibles.set(o.distritos),this.direccionForm.patchValue({departamento:t.id,provincia:o.id,distrito:l?.id||"",direccion:e.direccion,referencia:e.referencia,codigo_postal:e.codigo_postal,tipo_direccion:e.tipo_direccion}),this.mostrarFormularioDireccion.set(!1),this.calcularOpcionesEnvio()}}}toggleFormularioDireccion(){this.mostrarFormularioDireccion.update(e=>!e),this.mostrarFormularioDireccion()&&(this.direccionSeleccionada.set(null),this.direccionForm.reset())}formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}formatearTiempoEntrega(e){return e.tiempo_entrega_min===e.tiempo_entrega_max?`${e.tiempo_entrega_min} ${e.tiempo_unidad}`:`${e.tiempo_entrega_min}-${e.tiempo_entrega_max} ${e.tiempo_unidad}`}guardarDireccion(){if(!this.direccionForm.valid)return;let e=this.direccionForm.value,t={id:Date.now().toString(),alias:`${e.tipo_direccion==="casa"?"Casa":"Oficina"} ${this.direccionesGuardadas().length+1}`,departamento:this.departamentos().find(o=>o.id===e.departamento)?.nombre||"",provincia:this.provinciasDisponibles().find(o=>o.id===e.provincia)?.nombre||"",distrito:this.distritosDisponibles().find(o=>o.id===e.distrito)?.nombre||"",direccion:e.direccion,referencia:e.referencia,codigo_postal:e.codigo_postal,tipo_direccion:e.tipo_direccion,predeterminada:this.direccionesGuardadas().length===0};this.direccionesGuardadas.update(o=>[...o,t]),this.direccionActualizada.emit(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-calculadora-envio"]],inputs:{compacto:[1,"compacto"],mostrarDirecciones:[1,"mostrarDirecciones"],mostrarMapaInteractivo:[1,"mostrarMapaInteractivo"]},outputs:{opcionSeleccionada:"opcionSeleccionada",direccionActualizada:"direccionActualizada"},standalone:!0,features:[V],decls:12,vars:8,consts:[[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"mb-6"],[1,"space-y-4","mb-6",3,"formGroup"],[1,"mb-6","bg-red-50","border","border-red-200","rounded-lg","p-4"],[1,"space-y-3"],[1,"mt-6","p-4","bg-green-50","border","border-green-200","rounded-lg"],[1,"mt-6","flex","items-center","justify-center","py-8"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"space-y-2"],[3,"class"],[1,"mt-3","w-full","text-left","p-3","border-2","border-dashed","border-gray-300","rounded-lg","hover:border-blue-400","hover:bg-blue-50","transition-colors","group",3,"click"],[1,"flex","items-center","justify-center","text-sm","font-medium","text-gray-600","group-hover:text-blue-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[3,"click"],[1,"flex","items-center","justify-between"],[1,"flex-1"],[1,"flex","items-center","gap-2"],[1,"font-medium","text-sm","text-gray-900"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-green-100","text-green-800"],[1,"text-sm","text-gray-600","mt-1"],[1,"w-2","h-2","rounded-full","bg-blue-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["formControlName","departamento",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value",""],[3,"value"],["formControlName","provincia",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","disabled:bg-gray-100",3,"disabled"],["formControlName","distrito",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","disabled:bg-gray-100",3,"disabled"],["type","text","formControlName","codigo_postal","readonly","","placeholder","Se completa autom\xE1ticamente",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","bg-gray-50","text-gray-600"],["type","text","formControlName","direccion","placeholder","Ej: Av. Principal 123, Edificio Torres, Apto 4B",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["type","text","formControlName","referencia","placeholder","Ej: Frente al centro comercial, casa color azul",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],[1,"flex","gap-4"],[1,"flex","items-center"],["type","radio","formControlName","tipo_direccion","value","casa",1,"text-blue-600","focus:ring-blue-500"],[1,"ml-2","text-sm","text-gray-700"],["type","radio","formControlName","tipo_direccion","value","oficina",1,"text-blue-600","focus:ring-blue-500"],["type","radio","formControlName","tipo_direccion","value","otro",1,"text-blue-600","focus:ring-blue-500"],["type","button",1,"w-full","bg-blue-600","text-white","font-medium","py-2","px-4","rounded-lg","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors","duration-200",3,"click","disabled"],[1,"flex","items-center","justify-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"flex"],["viewBox","0 0 20 20","fill","currentColor",1,"flex-shrink-0","h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-red-800"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900"],[1,"text-lg","font-bold","text-gray-900"],[1,"text-sm","text-gray-600","mb-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-500"],[1,"flex","items-center","gap-4"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"w-2.5","h-2.5","rounded-full","bg-blue-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-sm","font-medium","text-green-900"],[1,"text-sm","text-green-700"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),u(3,$t,1,0)(4,Rt,1,0),a(),u(5,Bt,2,1,"span",3),a(),u(6,Ut,11,0,"div",4)(7,Qt,57,5,"form",5)(8,en,7,1,"div",6)(9,rn,5,0,"div",7)(10,cn,9,3,"div",8)(11,sn,4,0,"div",9),a()),t&2&&(r(3),d(o.compacto()?3:4),r(2),d(!o.compacto()&&o.pesoTotal()>0?5:-1),r(),d(o.mostrarDirecciones()&&o.direccionesGuardadas().length>0?6:-1),r(),d(o.mostrarFormularioDireccion()||o.direccionesGuardadas().length===0?7:-1),r(),d(o.errorCalculo()?8:-1),r(),d(o.opcionesEnvio().length>0?9:-1),r(),d(o.opcionSeleccionadaLocal()&&!o.compacto()?10:-1),r(),d(o.calculando()?11:-1))},dependencies:[F,$,W,Ce,be,ee,xe,fe,te,U,ae,ne,oe],styles:['.calculadora-container[_ngcontent-%COMP%]{transition:all .3s ease}.shipping-option[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.shipping-option[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -3px #0000001a}.shipping-option[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);transition:left .5s}.shipping-option[_ngcontent-%COMP%]:hover:before{left:100%}.shipping-option.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background-color:#eff6ff;box-shadow:0 4px 12px -2px #3b82f640}.shipping-option.selected[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#3b82f6,#1d4ed8)}.address-form[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc);border:1px solid #e5e7eb;border-radius:.75rem;padding:1.5rem;transition:all .3s ease}.address-form[_ngcontent-%COMP%]:focus-within{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.cascade-select[_ngcontent-%COMP%]{position:relative}.cascade-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{transition:all .3s ease}.cascade-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;transform:translateY(-1px)}.cascade-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:#9ca3af;cursor:not-allowed}.radio-group[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.radio-option[_ngcontent-%COMP%]{position:relative;transition:all .2s ease}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{appearance:none;width:1.25rem;height:1.25rem;border:2px solid #d1d5db;border-radius:50%;transition:all .2s ease;cursor:pointer}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked{border-color:#3b82f6;background-color:#3b82f6}.radio-option[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked:after{content:"";position:absolute;top:50%;left:50%;width:6px;height:6px;border-radius:50%;background-color:#fff;transform:translate(-50%,-50%)}.saved-address[_ngcontent-%COMP%]{transition:all .3s ease;cursor:pointer}.saved-address[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px -2px #0000001a}.saved-address.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:linear-gradient(135deg,#eff6ff,#dbeafe)}.saved-address[_ngcontent-%COMP%]   .address-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.calculate-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3b82f6,#1d4ed8);transition:all .3s ease;position:relative;overflow:hidden}.calculate-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#1d4ed8,#1e40af);transform:translateY(-2px);box-shadow:0 10px 25px -3px #3b82f666}.calculate-button[_ngcontent-%COMP%]:disabled{background:#d1d5db;transform:none;box-shadow:none}.loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:120px}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .4s ease-out}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.shipping-badge[_ngcontent-%COMP%]{transition:all .2s ease}.shipping-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.default-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1fae5,#a7f3d0);color:#065f46;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.8}}.shipping-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #10b981;animation:_ngcontent-%COMP%_slideInUp .4s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.focus-visible[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.375rem}.price-highlight[_ngcontent-%COMP%]{font-weight:700;color:#059669;animation:_ngcontent-%COMP%_priceGlow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_priceGlow{0%,to{text-shadow:0 0 5px rgba(5,150,105,.3)}50%{text-shadow:0 0 10px rgba(5,150,105,.5)}}@media (max-width: 768px){.shipping-option[_ngcontent-%COMP%], .address-form[_ngcontent-%COMP%]{padding:1rem}.radio-group[_ngcontent-%COMP%]{gap:.75rem}.saved-address[_ngcontent-%COMP%]:hover{transform:none}}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}@media (max-width: 640px){.fields-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#1f2937;color:#fff;padding:.5rem;border-radius:.375rem;font-size:.75rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}.tooltip[_ngcontent-%COMP%]:hover:after{opacity:1}.calculation-progress[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#8b5cf6,#3b82f6);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 2s linear infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.field-valid[_ngcontent-%COMP%]{border-color:#10b981}.field-invalid[_ngcontent-%COMP%]{border-color:#ef4444}.field-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #ef44441a}.state-transition[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}']})};var ln=(n,e)=>e.id;function dn(n,e){n&1&&c(0," Lista de Deseos ")}function mn(n,e){n&1&&c(0," Mi Lista de Deseos ")}function pn(n,e){if(n&1&&(i(0,"span",10),c(1),a()),n&2){let t=s(2);r(),x("",t.estadisticas().cambios_precio," con cambios de precio")}}function un(n,e){if(n&1&&(i(0,"div",3)(1,"span"),c(2),a(),i(3,"span"),c(4),a(),u(5,pn,2,1,"span",10),a()),n&2){let t=s();r(2),x("",t.estadisticas().total," productos"),r(2),x("",t.formatearPrecio(t.estadisticas().valor_total)," total"),r(),d(t.estadisticas().cambios_precio>0?5:-1)}}function _n(n,e){if(n&1&&(i(0,"option",13),c(1),a()),n&2){let t=e.$implicit;y("value",t),r(),b(t)}}function gn(n,e){if(n&1){let t=k();i(0,"div",4)(1,"select",11),C("change",function(l){g(t);let m=s();return f(m.cambiarFiltroCategoria(l.target.value))}),i(2,"option",12),c(3,"Todas las categor\xEDas"),a(),S(4,_n,2,2,"option",13,q),a(),i(6,"select",11),C("change",function(l){g(t);let m=s();return f(m.cambiarOrdenamiento(l.target.value))}),i(7,"option",14),c(8,"M\xE1s recientes"),a(),i(9,"option",15),c(10,"Precio menor"),a(),i(11,"option",16),c(12,"Nombre A-Z"),a(),i(13,"option",17),c(14,"Disponibilidad"),a()()()}if(n&2){let t=s();r(),y("value",t.categoriaFiltro()),r(3),E(t.categoriesDisponibles()),r(2),y("value",t.ordenamiento())}}function fn(n,e){n&1&&(i(0,"div",5),p(1,"div",18),i(2,"span",19),c(3,"Cargando lista de deseos..."),a()())}function xn(n,e){if(n&1&&(i(0,"div",6)(1,"div",20),_(),i(2,"svg",21),p(3,"path",22),a(),w(),i(4,"div",23)(5,"p",24),c(6),a()()()()),n&2){let t=s();r(6),b(t.error())}}function Cn(n,e){n&1&&c(0," Inicia sesi\xF3n para guardar productos en tu lista de deseos ")}function bn(n,e){n&1&&c(0," Explora nuestro cat\xE1logo y guarda los productos que te interesen ")}function vn(n,e){n&1&&(i(0,"div",29)(1,"a",30),c(2," Explorar productos "),a()())}function hn(n,e){if(n&1&&(i(0,"div",7),_(),i(1,"svg",25),p(2,"path",26),a(),w(),i(3,"h3",27),c(4," Tu lista de deseos est\xE1 vac\xEDa "),a(),i(5,"p",28),u(6,Cn,1,0)(7,bn,1,0),a(),u(8,vn,3,0,"div",29),a()),n&2){let t=s();r(6),d(t.esUsuarioLogueado()?7:6),r(2),d(t.esUsuarioLogueado()?8:-1)}}function yn(n,e){if(n&1&&(i(0,"div",31)(1,"div",33),_(),i(2,"svg",34),p(3,"path",35),a(),w(),i(4,"span",36),c(5),a()()()),n&2){let t=s(2);r(5),x(" ",t.itemsConCambioPrecio().length," productos han cambiado de precio ")}}function Mn(n,e){if(n&1){let t=k();i(0,"div",32)(1,"div",37)(2,"div",33),_(),i(3,"svg",38),p(4,"path",39),a(),w(),i(5,"span",40),c(6),a()(),i(7,"button",41),C("click",function(){g(t);let l=s(2);return f(l.limpiarItemsSinStock())}),c(8," Limpiar "),a()()()}if(n&2){let t=s(2);r(6),x(" ",t.itemsSinStock().length," productos sin stock ")}}function wn(n,e){if(n&1&&(i(0,"div",8),u(1,yn,6,1,"div",31)(2,Mn,9,1,"div",32),a()),n&2){let t=s();r(),d(t.itemsConCambioPrecio().length>0?1:-1),r(),d(t.itemsSinStock().length>0?2:-1)}}function kn(n,e){if(n&1&&(i(0,"div",46),c(1),a()),n&2){let t=s().$implicit,o=s(2);r(),x(" -",o.calcularDescuento(t.precio,t.precio_oferta),"% ")}}function Pn(n,e){if(n&1&&c(0),n&2){let t=s(2).$implicit,o=s(2);x(" \u2193",o.formatearPrecio(o.obtenerDiferenciaPrecio(t))," ")}}function Sn(n,e){if(n&1&&c(0),n&2){let t=s(2).$implicit,o=s(2);x(" \u2191",o.formatearPrecio(o.obtenerDiferenciaPrecio(t))," ")}}function En(n,e){if(n&1&&(i(0,"div"),u(1,Pn,1,1)(2,Sn,1,1),a()),n&2){let t=s().$implicit,o=s(2);v("absolute top-2 right-2 text-white text-xs font-bold px-2 py-1 rounded-full "+(o.tuvoCambioPrecio(t)==="descuento"?"bg-green-500":"bg-orange-500")),r(),d(o.tuvoCambioPrecio(t)==="descuento"?1:2)}}function On(n,e){n&1&&(i(0,"div",47)(1,"span",54),c(2,"Sin stock"),a()())}function In(n,e){if(n&1&&(i(0,"div",48)(1,"span",55),c(2),a(),i(3,"span",56),c(4),a()()),n&2){let t=s().$implicit;r(2),b(t.marca),r(2),b(t.categoria)}}function Tn(n,e){if(n&1&&(i(0,"div",57),p(1,"div",59),i(2,"span",60),c(3),a()()),n&2){let t=s(2).$implicit;r(),N("background-color",t.variacion.color.hex),r(2),b(t.variacion.color.nombre)}}function Vn(n,e){if(n&1&&(i(0,"span",58),c(1),a()),n&2){let t=s(2).$implicit;r(),x(" Talla ",t.variacion.talla," ")}}function Fn(n,e){if(n&1&&(i(0,"div",50),u(1,Tn,4,3,"div",57)(2,Vn,2,1,"span",58),a()),n&2){let t=s().$implicit;r(),d(t.variacion.color?1:-1),r(),d(t.variacion.talla?2:-1)}}function Dn(n,e){if(n&1&&(i(0,"div",52)(1,"span"),c(2),a(),i(3,"span",61),c(4),a()()),n&2){let t=s().$implicit,o=s(2);r(),v((o.compacto()?"text-base":"text-lg")+" font-bold text-green-600"),r(),x(" ",o.formatearPrecio(t.precio_oferta)," "),r(2),x(" ",o.formatearPrecio(t.precio)," ")}}function Gn(n,e){if(n&1&&(i(0,"span"),c(1),a()),n&2){let t=s().$implicit,o=s(2);v((o.compacto()?"text-base":"text-lg")+" font-bold text-gray-900"),r(),x(" ",o.formatearPrecio(t.precio)," ")}}function An(n,e){if(n&1&&(_(),i(0,"svg",64),p(1,"path",65),a()),n&2){let t=e.$implicit;v("w-3 h-3 "+(t==="full"||t==="half"?"text-yellow-400":"text-gray-300"))}}function Ln(n,e){if(n&1&&(i(0,"div",53)(1,"div",57),S(2,An,2,2,":svg:svg",62,_e),i(4,"span",63),c(5),a()(),i(6,"span"),c(7),a()()),n&2){let t=s().$implicit,o=s(2);r(2),E(o.obtenerEstrellas(t.calificacion)),r(3),b(t.calificacion),r(2),b(o.formatearTiempoGuardado(t.guardado_en))}}function jn(n,e){n&1&&(_(),i(0,"svg",67),p(1,"path",69),a(),c(2," En carrito "))}function zn(n,e){n&1&&c(0," Sin stock ")}function Nn(n,e){n&1&&c(0," Carrito ")}function $n(n,e){n&1&&c(0," Mover al carrito ")}function Rn(n,e){if(n&1&&(_(),i(0,"svg",67),p(1,"path",70),a(),u(2,Nn,1,0)(3,$n,1,0)),n&2){let t=s(4);r(2),d(t.compacto()?2:3)}}function Bn(n,e){if(n&1){let t=k();i(0,"div")(1,"button",66),C("click",function(){g(t);let l=s().$implicit,m=s(2);return f(m.moverAlCarrito(l))}),u(2,jn,3,0)(3,zn,1,0)(4,Rn,4,1),a(),i(5,"button",49),C("click",function(){g(t);let l=s().$implicit,m=s(2);return f(m.eliminarItem(l))}),_(),i(6,"svg",67),p(7,"path",68),a(),c(8," Eliminar "),a()()}if(n&2){let t=s().$implicit,o=s(2);v(o.compacto()?"flex gap-2":"flex flex-col gap-2"),r(),v("flex items-center justify-center px-3 py-2 text-sm font-medium rounded-lg transition-colors "+(!t.disponible||o.estaEnCarrito(t)?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700")+(o.compacto()?" flex-1":" w-full")),y("disabled",!t.disponible||o.estaEnCarrito(t)),r(),d(o.estaEnCarrito(t)?2:t.disponible?4:3),r(3),v("flex items-center justify-center px-3 py-2 text-sm font-medium text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors "+(o.compacto()?"":"w-full border border-red-200"))}}function Hn(n,e){if(n&1){let t=k();i(0,"div")(1,"div")(2,"div",44)(3,"img",45),C("click",function(){let l=g(t).$implicit,m=s(2);return f(m.verProducto(l.slug))})("error",function(l){g(t);let m=s(2);return f(m.onImagenError(l))}),a(),u(4,kn,2,1,"div",46)(5,En,3,3,"div",42)(6,On,3,0,"div",47),a()(),i(7,"div"),u(8,In,5,2,"div",48),i(9,"h4",49),C("click",function(){let l=g(t).$implicit,m=s(2);return f(m.verProducto(l.slug))}),c(10),a(),u(11,Fn,3,2,"div",50),i(12,"div",51),u(13,Dn,5,4,"div",52)(14,Gn,2,3,"span",42),a(),u(15,Ln,8,2,"div",53)(16,Bn,9,8,"div",42),a()()}if(n&2){let t=e.$implicit,o=s(2);v("wishlist-item bg-white border border-gray-200 rounded-lg overflow-hidden transition-all duration-200 hover:shadow-md "+(t.disponible?"":"opacity-75")+(o.compacto()?" flex p-3":"")),r(),v(o.compacto()?"flex-shrink-0 mr-3":"relative"),r(2),v(o.compacto()?"w-16 h-16 object-cover rounded-lg":"w-full h-48 object-cover"),y("src",o.construirUrlImagen(t.imagen),Y)("alt",t.nombre),r(),d(t.precio_oferta?4:-1),r(),d(o.tuvoCambioPrecio(t)?5:-1),r(),d(t.disponible?-1:6),r(),v(o.compacto()?"flex-1 min-w-0":"p-4"),r(),d(!o.compacto()&&t.marca?8:-1),r(),v((o.compacto()?"text-sm":"text-base")+" font-medium text-gray-900 mb-2 cursor-pointer hover:text-blue-600 transition-colors"),r(),x(" ",t.nombre," "),r(),d(t.variacion&&!o.compacto()?11:-1),r(2),d(t.precio_oferta?13:14),r(2),d(o.compacto()?-1:15),r(),d(o.mostrarAcciones()?16:-1)}}function Yn(n,e){if(n&1){let t=k();i(0,"div",43)(1,"button",71),C("click",function(){g(t);let l=s(2);return f(l.toggleMostrarTodos())}),c(2),_(),i(3,"svg",72),p(4,"path",73),a()()()}if(n&2){let t=s(2);r(2),x(" Ver ",t.itemsGuardados().length-t.maxItemsVisibles()," productos m\xE1s ")}}function qn(n,e){if(n&1&&(i(0,"div"),S(1,Hn,17,21,"div",42,ln),a(),u(3,Yn,5,1,"div",43)),n&2){let t=s();v(t.compacto()?"space-y-3":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"),r(),E(t.itemsVisibles()),r(2),d(t.hayMasParaMostrar()?3:-1)}}function Un(n,e){n&1&&(i(0,"div",9)(1,"p",74),c(2," Inicia sesi\xF3n para ver tu lista de deseos y sincronizar tus productos guardados "),a(),i(3,"a",75),c(4," Iniciar sesi\xF3n "),a()())}var me=class n{carritoService=P(A);authService=P(Z);router=P(z);compacto=O(!1);mostrarAcciones=O(!0);maxItemsVisibles=O(6);itemMovidoAlCarrito=L();itemEliminado=L();itemsGuardados=h([]);cargando=h(!1);error=h("");configuracion=h({maximo_items:50,notificaciones_precio:!0,notificaciones_stock:!0,auto_remover_sin_stock:!1});mostrarTodos=h(!1);categoriaFiltro=h("");ordenamiento=h("fecha");esUsuarioLogueado=M(()=>this.authService.isAuthenticated());itemsCarrito=this.carritoService.items;itemsVisibles=M(()=>{let e=this.itemsGuardados();return this.categoriaFiltro()&&(e=e.filter(t=>t.categoria===this.categoriaFiltro())),e=this.ordenarItems(e),!this.mostrarTodos()&&!this.compacto()?e=e.slice(0,this.maxItemsVisibles()):this.compacto()&&(e=e.slice(0,3)),e});categoriesDisponibles=M(()=>[...new Set(this.itemsGuardados().map(t=>t.categoria))].sort());itemsConCambioPrecio=M(()=>this.itemsGuardados().filter(e=>e.precio!==e.precio_cuando_se_guardo));itemsSinStock=M(()=>this.itemsGuardados().filter(e=>!e.disponible));estadisticas=M(()=>({total:this.itemsGuardados().length,disponibles:this.itemsGuardados().filter(e=>e.disponible).length,con_descuento:this.itemsGuardados().filter(e=>e.precio_oferta).length,cambios_precio:this.itemsConCambioPrecio().length,valor_total:this.itemsGuardados().reduce((e,t)=>e+(t.precio_oferta||t.precio),0)}));estaVacio=M(()=>this.itemsGuardados().length===0);hayMasParaMostrar=M(()=>this.itemsGuardados().length>this.maxItemsVisibles()&&!this.mostrarTodos());ngOnInit(){this.esUsuarioLogueado()&&this.cargarItemsGuardados()}construirUrlImagen(e){return e?e.startsWith("http")?e:K.urlDominioApi+"/"+e:K.urlDominioApi+"/assets/productos/default.jpg"}onImagenError(e){let t=e.target;t&&(t.src=this.construirUrlImagen(""))}cargarItemsGuardados(){this.cargando.set(!0),this.error.set(""),setTimeout(()=>{let e=[{id:"1",producto_id:101,nombre:"Smartphone Samsung Galaxy S24",slug:"smartphone-samsung-galaxy-s24",imagen:"/assets/productos/samsung-s24.jpg",precio:2899,precio_oferta:2599,stock_disponible:15,categoria:"Electr\xF3nicos",marca:"Samsung",calificacion:4.8,descuento_porcentaje:10,guardado_en:new Date("2024-01-15"),precio_cuando_se_guardo:2899,notificar_cambio_precio:!0,disponible:!0},{id:"2",producto_id:102,nombre:"Zapatillas Nike Air Max 270",slug:"zapatillas-nike-air-max-270",imagen:"/assets/productos/nike-air-max.jpg",precio:459,stock_disponible:0,categoria:"Calzado",marca:"Nike",calificacion:4.6,variacion:{color:{nombre:"Negro",hex:"#000000"},talla:"42"},guardado_en:new Date("2024-01-20"),precio_cuando_se_guardo:429,notificar_cambio_precio:!0,disponible:!1},{id:"3",producto_id:103,nombre:"Laptop HP Pavilion 15",slug:"laptop-hp-pavilion-15",imagen:"/assets/productos/hp-pavilion.jpg",precio:2299,precio_oferta:1999,stock_disponible:8,categoria:"Computadoras",marca:"HP",calificacion:4.4,descuento_porcentaje:13,guardado_en:new Date("2024-01-25"),precio_cuando_se_guardo:2299,notificar_cambio_precio:!0,disponible:!0}];this.itemsGuardados.set(e),this.cargando.set(!1)},800)}ordenarItems(e){let t=this.ordenamiento();return[...e].sort((o,l)=>{switch(t){case"fecha":return new Date(l.guardado_en).getTime()-new Date(o.guardado_en).getTime();case"precio":let m=o.precio_oferta||o.precio,I=l.precio_oferta||l.precio;return m-I;case"nombre":return o.nombre.localeCompare(l.nombre);case"disponibilidad":return o.disponible&&!l.disponible?-1:!o.disponible&&l.disponible?1:0;default:return 0}})}moverAlCarrito(e){if(!e.disponible)return;let t={id:`carrito_${e.id}`,producto_id:e.producto_id,variacion_id:e.variacion_id,nombre:e.nombre,slug:e.slug,imagen:e.imagen,precio:e.precio,precio_oferta:e.precio_oferta,cantidad:1,stock_disponible:e.stock_disponible,peso:.5,variacion:e.variacion,subtotal:e.precio_oferta||e.precio,agregado_en:new Date,modificado_en:new Date};this.carritoService.agregarItem({producto_id:e.producto_id,variacion_id:e.variacion_id,cantidad:1}).subscribe({next:o=>{o.success&&(this.removerItemGuardado(e.id),this.itemMovidoAlCarrito.emit(e))},error:o=>{console.error("Error al mover item al carrito:",o),this.error.set("No se pudo agregar el producto al carrito")}})}eliminarItem(e){confirm(`\xBFEst\xE1s seguro de eliminar "${e.nombre}" de tu lista de deseos?`)&&(this.removerItemGuardado(e.id),this.itemEliminado.emit(e))}removerItemGuardado(e){this.itemsGuardados.update(t=>t.filter(o=>o.id!==e))}estaEnCarrito(e){return this.itemsCarrito().some(t=>t.producto_id===e.producto_id&&t.variacion_id===e.variacion_id)}cambiarFiltroCategoria(e){this.categoriaFiltro.set(e)}cambiarOrdenamiento(e){this.ordenamiento.set(e)}toggleMostrarTodos(){this.mostrarTodos.update(e=>!e)}verProducto(e){this.router.navigate(["/producto",e])}formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}calcularDescuento(e,t){return Math.round((e-t)/e*100)}formatearTiempoGuardado(e){let o=new Date().getTime()-e.getTime(),l=Math.floor(o/(1e3*60*60*24));return l===0?"Hoy":l===1?"Ayer":l<7?`Hace ${l} d\xEDas`:l<30?`Hace ${Math.floor(l/7)} semanas`:`Hace ${Math.floor(l/30)} meses`}tuvoCambioPrecio(e){let t=e.precio_oferta||e.precio;return t>e.precio_cuando_se_guardo?"aumento":t<e.precio_cuando_se_guardo?"descuento":null}obtenerDiferenciaPrecio(e){let t=e.precio_oferta||e.precio;return Math.abs(t-e.precio_cuando_se_guardo)}toggleNotificacionPrecio(e){this.itemsGuardados.update(t=>t.map(o=>o.id===e.id?G(D({},o),{notificar_cambio_precio:!o.notificar_cambio_precio}):o))}limpiarItemsSinStock(){let e=this.itemsSinStock().length;e>0&&confirm(`\xBFEliminar ${e} productos sin stock de tu lista?`)&&this.itemsGuardados.update(t=>t.filter(o=>o.disponible))}obtenerEstrellas(e){let t=[],o=Math.floor(e),l=e-o;for(let m=0;m<5;m++)m<o?t.push("full"):m===o&&l>=.5?t.push("half"):t.push("empty");return t}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-items-guardados"]],inputs:{compacto:[1,"compacto"],mostrarAcciones:[1,"mostrarAcciones"],maxItemsVisibles:[1,"maxItemsVisibles"]},outputs:{itemMovidoAlCarrito:"itemMovidoAlCarrito",itemEliminado:"itemEliminado"},standalone:!0,features:[V],decls:14,vars:9,consts:[[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"flex","flex-col","sm:flex-row","sm:justify-between","sm:items-center","mb-6","gap-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"mt-1","flex","flex-wrap","gap-4","text-sm","text-gray-600"],[1,"flex","flex-col","sm:flex-row","gap-2"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],[1,"space-y-3","mb-6"],[1,"text-center","py-8","border-t","border-gray-200"],[1,"text-blue-600"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"change","value"],["value",""],[3,"value"],["value","fecha"],["value","precio"],["value","nombre"],["value","disponibilidad"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"flex"],["viewBox","0 0 20 20","fill","currentColor",1,"flex-shrink-0","h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-red-800"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[1,"mt-4","text-lg","font-medium","text-gray-900"],[1,"mt-2","text-gray-600"],[1,"mt-6"],["href","/catalogo",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition-colors"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],[1,"bg-yellow-50","border","border-yellow-200","rounded-lg","p-4"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-medium","text-blue-800"],[1,"flex","items-center","justify-between"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"text-sm","font-medium","text-yellow-800"],[1,"text-sm","text-yellow-700","hover:text-yellow-900","font-medium","underline",3,"click"],[3,"class"],[1,"mt-6","text-center"],[1,"relative"],["loading","lazy",1,"cursor-pointer","hover:opacity-90","transition-opacity",3,"click","error","src","alt"],[1,"absolute","top-2","left-2","bg-red-500","text-white","text-xs","font-bold","px-2","py-1","rounded-full"],[1,"absolute","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center"],[1,"flex","items-center","justify-between","mb-2"],[3,"click"],[1,"flex","flex-wrap","gap-2","mb-2"],[1,"mb-3"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","justify-between","mb-3","text-xs","text-gray-500"],[1,"text-white","text-sm","font-medium"],[1,"text-xs","text-gray-500","uppercase","tracking-wide"],[1,"text-xs","text-gray-500"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-600","bg-gray-100","px-2","py-1","rounded"],[1,"w-3","h-3","rounded-full","border","border-gray-300"],[1,"text-xs","text-gray-600"],[1,"text-sm","text-gray-500","line-through"],["fill","currentColor","viewBox","0 0 20 20",3,"class"],[1,"ml-1"],["fill","currentColor","viewBox","0 0 20 20"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"],[3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 2.5M7 13h10M17 21a2 2 0 100-4 2 2 0 000 4zM9 21a2 2 0 100-4 2 2 0 000 4z"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-lg","text-gray-700","bg-white","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"ml-2","w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"text-gray-600","mb-4"],["href","/auth/login",1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","transition-colors"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),u(4,dn,1,0)(5,mn,1,0),a(),u(6,un,6,3,"div",3),a(),u(7,gn,15,2,"div",4),a(),u(8,fn,4,0,"div",5)(9,xn,7,1,"div",6)(10,hn,9,2,"div",7)(11,wn,3,2,"div",8)(12,qn,4,3)(13,Un,5,0,"div",9),a()),t&2&&(r(4),d(o.compacto()?4:5),r(2),d(!o.compacto()&&o.estadisticas().total>0?6:-1),r(),d(!o.compacto()&&o.estadisticas().total>0?7:-1),r(),d(o.cargando()?8:-1),r(),d(o.error()?9:-1),r(),d(o.estaVacio()&&!o.cargando()?10:-1),r(),d(!o.compacto()&&(o.itemsConCambioPrecio().length>0||o.itemsSinStock().length>0)?11:-1),r(),d(o.itemsVisibles().length>0&&!o.cargando()?12:-1),r(),d(o.esUsuarioLogueado()?-1:13))},dependencies:[F],styles:['.wishlist-container[_ngcontent-%COMP%]{transition:all .3s ease}.wishlist-item[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.wishlist-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.wishlist-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.05),transparent);transition:left .5s}.wishlist-item[_ngcontent-%COMP%]:hover:before{left:100%}.product-image[_ngcontent-%COMP%]{transition:all .3s ease;position:relative;overflow:hidden}.product-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .4s ease}.product-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.price-change-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .6s ease-out}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.discount-badge[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ef4444,#dc2626);animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.product-unavailable[_ngcontent-%COMP%]{position:relative}.product-unavailable[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(0,0,0,.1) 10px,rgba(0,0,0,.1) 20px);pointer-events:none}.rating-stars[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px}.star[_ngcontent-%COMP%]{transition:all .2s ease}.star[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.star-full[_ngcontent-%COMP%]{color:#fbbf24;text-shadow:0 1px 2px rgba(251,191,36,.3)}.star-half[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fbbf24 50%,#d1d5db 50%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.star-empty[_ngcontent-%COMP%]{color:#d1d5db}.action-button[_ngcontent-%COMP%]{transition:all .3s ease;position:relative;overflow:hidden}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.action-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.action-button[_ngcontent-%COMP%]:hover:before{left:100%}.primary-action[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3b82f6,#1d4ed8);box-shadow:0 4px 12px -2px #3b82f640}.primary-action[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#1d4ed8,#1e40af);box-shadow:0 8px 25px -3px #3b82f666}.primary-action[_ngcontent-%COMP%]:disabled{background:#e5e7eb;box-shadow:none;transform:none}.secondary-action[_ngcontent-%COMP%]{transition:all .3s ease}.secondary-action[_ngcontent-%COMP%]:hover{background-color:#fef2f2;border-color:#fca5a5;transform:translateY(-1px);box-shadow:0 4px 12px -2px #ef444440}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.wishlist-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .6s ease-out;animation-fill-mode:both}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.wishlist-grid[_ngcontent-%COMP%]   .wishlist-item[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.compact-item[_ngcontent-%COMP%]{transition:all .2s ease}.compact-item[_ngcontent-%COMP%]:hover{background-color:#f8fafc;transform:translate(4px)}.filter-controls[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f8fafc);border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem}.filter-select[_ngcontent-%COMP%]{transition:all .3s ease}.filter-select[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a;transform:translateY(-1px)}.price-alert[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .4s ease-out;background:linear-gradient(135deg,#eff6ff,#dbeafe);border-left:4px solid #3b82f6}.stock-alert[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .4s ease-out;background:linear-gradient(135deg,#fefce8,#fef3c7);border-left:4px solid #f59e0b}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.price-highlight[_ngcontent-%COMP%]{position:relative;font-weight:700}.price-discount[_ngcontent-%COMP%]{color:#059669;animation:_ngcontent-%COMP%_priceGlow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_priceGlow{0%,to{text-shadow:0 0 5px rgba(5,150,105,.3)}50%{text-shadow:0 0 15px rgba(5,150,105,.5)}}.price-increase[_ngcontent-%COMP%]{color:#dc2626;animation:_ngcontent-%COMP%_priceWarning 1s ease-in-out 3}@keyframes _ngcontent-%COMP%_priceWarning{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.loading-skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f3f4f6,#e5e7eb,#f3f4f6);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.empty-state[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .8s ease-out}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.view-more-button[_ngcontent-%COMP%]{transition:all .3s ease;position:relative}.view-more-button[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-2px);box-shadow:0 8px 25px -3px #0000001a}.view-more-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease}.view-more-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{transform:translateY(2px)}@media (max-width: 768px){.wishlist-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.wishlist-item[_ngcontent-%COMP%]:hover, .compact-item[_ngcontent-%COMP%]:hover, .action-button[_ngcontent-%COMP%]:hover{transform:none}.filter-controls[_ngcontent-%COMP%]{padding:.75rem}}@media (max-width: 640px){.wishlist-item[_ngcontent-%COMP%]{margin:0 -.5rem}.compact-item[_ngcontent-%COMP%]{padding:.75rem}}.focus-visible[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.375rem}.tooltip[_ngcontent-%COMP%]{position:relative}.tooltip[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#1f2937;color:#fff;padding:.5rem;border-radius:.375rem;font-size:.75rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}.tooltip[_ngcontent-%COMP%]:hover:after{opacity:1}.product-variation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:.5rem 0}.color-swatch[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:2px solid #ffffff;box-shadow:0 0 0 1px #0000001a;transition:transform .2s ease}.color-swatch[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.time-indicator[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums;opacity:.8;transition:opacity .2s ease}.wishlist-item[_ngcontent-%COMP%]:hover   .time-indicator[_ngcontent-%COMP%]{opacity:1}.state-transition[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.item-added[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_itemAdded 1s ease-out}@keyframes _ngcontent-%COMP%_itemAdded{0%{opacity:0;transform:scale(.8) rotate(-10deg)}50%{opacity:1;transform:scale(1.05) rotate(2deg)}to{opacity:1;transform:scale(1) rotate(0)}}.category-electronics[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe)}.category-clothing[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdf2f8,#fce7f3)}.category-home[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.category-sports[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff7ed,#fed7aa)}']})};var Wn=(n,e)=>e.codigo,Kn=(n,e)=>e.id;function Zn(n,e){n&1&&c(0," Cupones ")}function Xn(n,e){n&1&&c(0," Cupones de Descuento ")}function Jn(n,e){if(n&1&&(i(0,"p",3),c(1),a()),n&2){let t=s();r(),x(" Ahorras ",t.formatearPrecio(t.totalDescuentos())," con cupones aplicados ")}}function Qn(n,e){n&1&&c(0," Cup\xF3n ")}function eo(n,e){n&1&&c(0," Agregar cup\xF3n ")}function to(n,e){if(n&1){let t=k();i(0,"button",11),C("click",function(){g(t);let l=s();return f(l.toggleFormulario())}),_(),i(1,"svg",12),p(2,"path",13),a(),u(3,Qn,1,0)(4,eo,1,0),a()}if(n&2){let t=s();r(3),d(t.compacto()?3:4)}}function no(n,e){if(n&1){let t=k();i(0,"div",16)(1,"div",17)(2,"div",18),c(3," \u2713 "),a(),i(4,"div")(5,"p",19),c(6),a(),i(7,"p",20),c(8),a()()(),i(9,"div",21)(10,"span",22),c(11),a(),i(12,"button",23),C("click",function(){let l=g(t).$implicit,m=s(2);return f(m.eliminarCupon(l))}),_(),i(13,"svg",24),p(14,"path",25),a()()()()}if(n&2){let t=e.$implicit,o=s(2);r(6),b(t.codigo),r(2),b(t.descripcion),r(3),x(" -",o.formatearPrecio(t.monto)," ")}}function oo(n,e){if(n&1&&(i(0,"div",5)(1,"h4",14),c(2,"Cupones aplicados"),a(),i(3,"div",15),S(4,no,15,3,"div",16,Wn),a()()),n&2){let t=s();r(4),E(t.cuponesAplicados())}}function io(n,e){n&1&&(_(),i(0,"svg",31),p(1,"circle",33)(2,"path",34),a())}function ao(n,e){n&1&&c(0," Aplicar ")}function ro(n,e){n&1&&c(0," El c\xF3digo de cup\xF3n es requerido ")}function co(n,e){n&1&&c(0," El c\xF3digo debe tener al menos 3 caracteres ")}function so(n,e){n&1&&c(0," El c\xF3digo solo puede contener letras, n\xFAmeros, guiones y guiones bajos ")}function lo(n,e){if(n&1&&(i(0,"div",32),u(1,ro,1,0)(2,co,1,0)(3,so,1,0),a()),n&2){let t,o,l,m=s(2);r(),d(!((t=m.cuponForm.get("codigo"))==null||t.errors==null)&&t.errors.required?1:-1),r(),d(!((o=m.cuponForm.get("codigo"))==null||o.errors==null)&&o.errors.minlength?2:-1),r(),d(!((l=m.cuponForm.get("codigo"))==null||l.errors==null)&&l.errors.pattern?3:-1)}}function mo(n,e){if(n&1){let t=k();i(0,"div",6)(1,"form",26),C("ngSubmit",function(){g(t);let l=s();return f(l.aplicarCupon())}),i(2,"div")(3,"label",27),c(4," C\xF3digo de cup\xF3n "),a(),i(5,"div",28),p(6,"input",29),i(7,"button",30),u(8,io,3,0,":svg:svg",31)(9,ao,1,0),a()(),u(10,lo,4,3,"div",32),a()()()}if(n&2){let t,o,l=s();r(),y("formGroup",l.cuponForm),r(5),J("border-red-500",((t=l.cuponForm.get("codigo"))==null?null:t.invalid)&&((t=l.cuponForm.get("codigo"))==null?null:t.touched)),r(),y("disabled",!l.formularioValido||l.validandoCupon()),r(),d(l.validandoCupon()?8:9),r(2),d((o=l.cuponForm.get("codigo"))!=null&&o.invalid&&((o=l.cuponForm.get("codigo"))!=null&&o.touched)?10:-1)}}function po(n,e){if(n&1&&(i(0,"div",7)(1,"div",35),_(),i(2,"svg",36),p(3,"path",37),a(),w(),i(4,"div",38)(5,"p",39),c(6),a()()()()),n&2){let t=s();r(6),b(t.mensajeExito())}}function uo(n,e){if(n&1&&(i(0,"div",8)(1,"div",35),_(),i(2,"svg",40),p(3,"path",41),a(),w(),i(4,"div",38)(5,"p",42),c(6),a()()()()),n&2){let t=s();r(6),b(t.errorValidacion())}}function _o(n,e){n&1&&c(0," Cupones disponibles ")}function go(n,e){n&1&&c(0," Cupones disponibles para ti ")}function fo(n,e){n&1&&(i(0,"div",47),c(1," Popular "),a())}function xo(n,e){n&1&&(i(0,"span",56),_(),i(1,"svg",58),p(2,"path",37),a(),c(3," Aplicado "),a())}function Co(n,e){n&1&&(i(0,"span",57),c(1," L\xEDmite de cupones alcanzado "),a())}function bo(n,e){if(n&1&&(i(0,"div",54),u(1,xo,4,0,"span",56)(2,Co,2,0,"span",57),a()),n&2){let t=s(2).$implicit,o=s(2);r(),d(o.cuponEstaAplicado(t.codigo)?1:2)}}function vo(n,e){n&1&&(i(0,"div",55)(1,"span",59),c(2," Clic para aplicar \u2192 "),a()())}function ho(n,e){if(n&1){let t=k();i(0,"div",46),C("click",function(){g(t);let l=s().$implicit,m=s(2);return f(m.puedeAplicarCupon(l)&&m.aplicarCuponSugerido(l))}),u(1,fo,2,0,"div",47),i(2,"div",48)(3,"div"),c(4),a(),i(5,"div",49)(6,"div",50)(7,"span",51),c(8),a(),i(9,"span"),c(10),a()(),i(11,"p",52),c(12),a(),i(13,"p",53),c(14),a(),u(15,bo,3,1,"div",54),a()(),u(16,vo,3,0,"div",55),a()}if(n&2){let t=s().$implicit,o=s(2);v("coupon-suggestion relative p-4 border rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md "+(t.destacado?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300")+(o.puedeAplicarCupon(t)?"":" opacity-50 cursor-not-allowed")),r(),d(t.destacado?1:-1),r(2),v("flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-lg "+(t.destacado?"bg-blue-500 text-white":"bg-gray-100")),r(),x(" ",o.obtenerIconoCategoria(t.categoria)," "),r(4),b(t.codigo),r(),v("text-xs font-medium px-2 py-1 rounded-full "+o.obtenerColorCategoria(t.categoria)),r(),x(" ",t.descuento_texto," "),r(2),b(t.descripcion),r(2),b(t.condiciones),r(),d(o.puedeAplicarCupon(t)?-1:15),r(),d(o.puedeAplicarCupon(t)?16:-1)}}function yo(n,e){if(n&1&&u(0,ho,17,14,"div",45),n&2){let t=e.$index,o=s(2);d(o.compacto()&&t<2||!o.compacto()?0:-1)}}function Mo(n,e){if(n&1&&(i(0,"div",44)(1,"button",60),c(2),a()()),n&2){let t=s(2);r(2),x(" Ver ",t.cuponesSugeridos().length-2," cupones m\xE1s ")}}function wo(n,e){if(n&1&&(i(0,"div")(1,"h4",43),u(2,_o,1,0)(3,go,1,0),a(),i(4,"div"),S(5,yo,1,1,null,null,Kn),a(),u(7,Mo,3,1,"div",44),a()),n&2){let t=s();r(2),d(t.compacto()?2:3),r(2),v(t.compacto()?"space-y-2":"grid grid-cols-1 md:grid-cols-2 gap-3"),r(),E(t.cuponesSugeridos()),r(2),d(t.compacto()&&t.cuponesSugeridos().length>2?7:-1)}}function ko(n,e){n&1&&(i(0,"div",9),p(1,"div",61),i(2,"p",62),c(3,"Cargando cupones disponibles..."),a()())}function Po(n,e){n&1&&(i(0,"div",9),_(),i(1,"svg",63),p(2,"path",64),a(),w(),i(3,"p",65),c(4," No hay cupones de descuento disponibles "),a()())}function So(n,e){n&1&&(i(0,"div",10)(1,"div",17),_(),i(2,"svg",66),p(3,"path",67),a(),w(),i(4,"span",68),c(5," Has alcanzado el l\xEDmite m\xE1ximo de cupones (3) "),a()()())}var pe=class n{carritoService=P(A);fb=P(ie);compacto=O(!1);mostrarSugerencias=O(!0);maxCuponesSugeridos=O(4);cuponAplicado=L();cuponEliminado=L();validandoCupon=h(!1);errorValidacion=h("");cuponInput=h("");cuponesSugeridos=h([]);cargandoSugerencias=h(!1);mostrarFormulario=h(!1);mensajeExito=h("");cuponForm;resumen=this.carritoService.resumen;cuponesAplicados=M(()=>this.resumen().descuentos_aplicados.filter(e=>e.tipo==="cupon"));totalDescuentos=M(()=>this.cuponesAplicados().reduce((e,t)=>e+t.monto,0));puedeAplicarMasCupones=M(()=>this.cuponesAplicados().length<3);categoriasFiltradas=M(()=>[...new Set(this.cuponesSugeridos().map(t=>t.categoria))]);cuponesPorCategoria=M(()=>{let e=this.cuponesSugeridos();return{envio:e.filter(t=>t.categoria==="envio"),porcentaje:e.filter(t=>t.categoria==="porcentaje"),monto:e.filter(t=>t.categoria==="monto"),especial:e.filter(t=>t.categoria==="especial")}});subtotalMinimo=M(()=>this.resumen().subtotal);ngOnInit(){this.inicializarFormulario(),this.mostrarSugerencias()&&this.cargarCuponesSugeridos()}inicializarFormulario(){this.cuponForm=this.fb.group({codigo:["",[j.required,j.minLength(3),j.maxLength(20),j.pattern(/^[A-Za-z0-9-_]+$/)]]}),this.cuponForm.get("codigo")?.valueChanges.subscribe(e=>{this.cuponInput.set(e?.toUpperCase()||""),this.errorValidacion.set(""),this.mensajeExito.set("")})}cargarCuponesSugeridos(){this.cargandoSugerencias.set(!0),setTimeout(()=>{let e=[{id:1,codigo:"PRIMERACOMPRA",descripcion:"15% de descuento en tu primera compra",descuento_texto:"15% OFF",condiciones:"M\xEDnimo S/ 100. Solo nuevos usuarios.",categoria:"porcentaje",destacado:!0},{id:2,codigo:"ENVIOGRATIS",descripcion:"Env\xEDo gratuito a nivel nacional",descuento_texto:"Env\xEDo gratis",condiciones:"Compras mayores a S/ 80",categoria:"envio",destacado:!0},{id:3,codigo:"SAVE50",descripcion:"S/ 50 de descuento en compras grandes",descuento_texto:"-S/ 50",condiciones:"M\xEDnimo S/ 300 en compras",categoria:"monto",destacado:!1},{id:4,codigo:"COMBO25",descripcion:"25% OFF en productos seleccionados",descuento_texto:"25% OFF",condiciones:"Solo en categor\xEDa Electr\xF3nicos",categoria:"especial",destacado:!1},{id:5,codigo:"BLACKFRIDAY",descripcion:"Mega descuento Black Friday",descuento_texto:"40% OFF",condiciones:"Ofertas limitadas por tiempo",categoria:"especial",destacado:!0}];this.cuponesSugeridos.set(e),this.cargandoSugerencias.set(!1)},800)}aplicarCupon(){if(!this.cuponForm.valid||this.validandoCupon())return;let e=this.cuponInput();this.validarYAplicarCupon(e)}aplicarCuponSugerido(e){this.cuponForm.patchValue({codigo:e.codigo}),this.validarYAplicarCupon(e.codigo)}validarYAplicarCupon(e){this.validandoCupon.set(!0),this.errorValidacion.set(""),this.mensajeExito.set(""),this.carritoService.aplicarCupon({codigo:e}).subscribe({next:t=>{if(t.success){this.mensajeExito.set(`Cup\xF3n "${e}" aplicado correctamente`),this.cuponForm.reset(),this.mostrarFormulario.set(!1);let o=this.cuponesSugeridos().find(l=>l.codigo===e);if(o){let l={id:o.id,codigo:o.codigo,descripcion:o.descripcion,tipo:"porcentaje",valor:15,fecha_inicio:new Date,fecha_fin:new Date,activo:!0};this.cuponAplicado.emit(l)}setTimeout(()=>this.mensajeExito.set(""),3e3)}else this.errorValidacion.set(t.message||"Error al aplicar el cup\xF3n");this.validandoCupon.set(!1)},error:t=>{console.error("Error al aplicar cup\xF3n:",t),this.errorValidacion.set("Error de conexi\xF3n. Intenta nuevamente."),this.validandoCupon.set(!1)}})}eliminarCupon(e){e.codigo&&this.carritoService.removerCupon(e.codigo).subscribe({next:t=>{t.success&&(this.cuponEliminado.emit(e.codigo),this.mensajeExito.set("Cup\xF3n eliminado correctamente"),setTimeout(()=>this.mensajeExito.set(""),3e3))},error:t=>{console.error("Error al eliminar cup\xF3n:",t),this.errorValidacion.set("Error al eliminar el cup\xF3n")}})}toggleFormulario(){this.mostrarFormulario.update(e=>!e),this.mostrarFormulario()&&(this.cuponForm.reset(),this.errorValidacion.set(""),this.mensajeExito.set(""))}formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}obtenerIconoCategoria(e){return{envio:"\u{1F69A}",porcentaje:"\u{1F3AF}",monto:"\u{1F4B0}",especial:"\u2B50"}[e]||"\u{1F3AB}"}cuponEstaAplicado(e){return this.cuponesAplicados().some(t=>t.codigo===e)}puedeAplicarCupon(e){return!this.cuponEstaAplicado(e.codigo)&&this.puedeAplicarMasCupones()}obtenerColorCategoria(e){return{envio:"bg-blue-100 text-blue-800",porcentaje:"bg-green-100 text-green-800",monto:"bg-yellow-100 text-yellow-800",especial:"bg-purple-100 text-purple-800"}[e]||"bg-gray-100 text-gray-800"}get formularioValido(){return this.cuponForm.valid&&this.cuponInput().length>=3}limpiarMensajes(){this.errorValidacion.set(""),this.mensajeExito.set("")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-cupones-descuento"]],inputs:{compacto:[1,"compacto"],mostrarSugerencias:[1,"mostrarSugerencias"],maxCuponesSugeridos:[1,"maxCuponesSugeridos"]},outputs:{cuponAplicado:"cuponAplicado",cuponEliminado:"cuponEliminado"},standalone:!0,features:[V],decls:16,vars:11,consts:[[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-green-600","mt-1"],[1,"inline-flex","items-center","px-3","py-2","border","border-blue-600","text-sm","font-medium","rounded-lg","text-blue-600","hover:bg-blue-50","transition-colors"],[1,"mb-6"],[1,"coupon-form","mb-6","p-4","bg-gray-50","rounded-lg","border"],[1,"mb-4","bg-green-50","border","border-green-200","rounded-lg","p-4"],[1,"mb-4","bg-red-50","border","border-red-200","rounded-lg","p-4"],[1,"text-center","py-6"],[1,"mt-4","p-3","bg-yellow-50","border","border-yellow-200","rounded-lg"],[1,"inline-flex","items-center","px-3","py-2","border","border-blue-600","text-sm","font-medium","rounded-lg","text-blue-600","hover:bg-blue-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"space-y-2"],[1,"coupon-applied","flex","items-center","justify-between","p-3","bg-green-50","border","border-green-200","rounded-lg"],[1,"flex","items-center"],[1,"w-8","h-8","bg-green-500","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-bold","mr-3"],[1,"font-medium","text-green-900"],[1,"text-sm","text-green-700"],[1,"flex","items-center","gap-3"],[1,"font-bold","text-green-600"],["title","Eliminar cup\xF3n",1,"text-green-600","hover:text-green-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","gap-2"],["type","text","formControlName","codigo","placeholder","Ej: PRIMERACOMPRA",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-blue-500","uppercase"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","font-medium","rounded-lg","hover:bg-blue-700","disabled:bg-gray-300","disabled:cursor-not-allowed","transition-colors",3,"disabled"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],[1,"mt-1","text-sm","text-red-600"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"flex"],["viewBox","0 0 20 20","fill","currentColor",1,"flex-shrink-0","h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-green-800"],["viewBox","0 0 20 20","fill","currentColor",1,"flex-shrink-0","h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","text-red-800"],[1,"text-sm","font-medium","text-gray-900","mb-4"],[1,"mt-3","text-center"],[3,"class"],[3,"click"],[1,"absolute","top-2","right-2","bg-blue-500","text-white","text-xs","font-bold","px-2","py-1","rounded-full"],[1,"flex","items-start","gap-3"],[1,"flex-1","min-w-0"],[1,"flex","items-center","justify-between","mb-1"],[1,"font-mono","text-sm","font-bold","text-gray-900"],[1,"text-sm","text-gray-700","mb-2"],[1,"text-xs","text-gray-500"],[1,"mt-2"],[1,"mt-3","flex","justify-end"],[1,"inline-flex","items-center","text-xs","text-green-600"],[1,"text-xs","text-gray-400"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3","mr-1"],[1,"text-xs","font-medium","text-blue-600","hover:text-blue-800"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","underline"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600","mx-auto"],[1,"text-sm","text-gray-600","mt-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-8","w-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"mt-2","text-sm","text-gray-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-medium","text-yellow-800"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),u(4,Zn,1,0)(5,Xn,1,0),a(),u(6,Jn,2,1,"p",3),a(),u(7,to,5,1,"button",4),a(),u(8,oo,6,0,"div",5)(9,mo,11,6,"div",6)(10,po,7,1,"div",7)(11,uo,7,1,"div",8)(12,wo,8,4,"div")(13,ko,4,0,"div",9)(14,Po,5,0,"div",9)(15,So,6,0,"div",10),a()),t&2&&(r(4),d(o.compacto()?4:5),r(2),d(!o.compacto()&&o.totalDescuentos()>0?6:-1),r(),d(o.puedeAplicarMasCupones()?7:-1),r(),d(o.cuponesAplicados().length>0?8:-1),r(),d(o.mostrarFormulario()?9:-1),r(),d(o.mensajeExito()?10:-1),r(),d(o.errorValidacion()?11:-1),r(),d(o.mostrarSugerencias()&&!o.cargandoSugerencias()&&o.cuponesSugeridos().length>0?12:-1),r(),d(o.cargandoSugerencias()?13:-1),r(),d(!o.cargandoSugerencias()&&o.cuponesAplicados().length===0&&(!o.mostrarSugerencias()||o.cuponesSugeridos().length===0)?14:-1),r(),d(o.puedeAplicarMasCupones()?-1:15))},dependencies:[F,$,W,ee,te,U,ae,ne,oe],styles:['.cupones-container[_ngcontent-%COMP%]{transition:all .3s ease}.coupon-applied[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .5s ease-out;transition:all .3s cubic-bezier(.4,0,.2,1)}.coupon-applied[_ngcontent-%COMP%]:hover{transform:translate(4px);box-shadow:0 4px 12px -2px #22c55e40}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.coupon-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .4s ease-out;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:1px solid #e2e8f0}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-15px)}to{opacity:1;transform:translateY(0)}}.coupon-input[_ngcontent-%COMP%]{transition:all .3s ease}.coupon-input[_ngcontent-%COMP%]:focus{transform:translateY(-2px);box-shadow:0 8px 25px -3px #3b82f626}.apply-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3b82f6,#1d4ed8);transition:all .3s ease;position:relative;overflow:hidden}.apply-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#1d4ed8,#1e40af);transform:translateY(-2px);box-shadow:0 10px 25px -3px #3b82f666}.apply-button[_ngcontent-%COMP%]:disabled{background:#d1d5db;transform:none;box-shadow:none}.apply-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s}.apply-button[_ngcontent-%COMP%]:hover:before{left:100%}.coupon-suggestion[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.coupon-suggestion[_ngcontent-%COMP%]:hover:not(.opacity-50){transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.coupon-suggestion[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.05),transparent);transition:left .5s}.coupon-suggestion[_ngcontent-%COMP%]:hover:before{left:100%}.coupon-featured[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe);border:2px solid #3b82f6;position:relative}.coupon-featured[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:4px;height:100%;background:linear-gradient(180deg,#3b82f6,#1d4ed8)}.category-badge[_ngcontent-%COMP%]{transition:all .2s ease}.category-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.category-icon[_ngcontent-%COMP%]{transition:all .3s ease}.coupon-suggestion[_ngcontent-%COMP%]:hover   .category-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.coupon-skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f3f4f6,#e5e7eb,#f3f4f6);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.success-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_successSlide .5s ease-out;background:linear-gradient(135deg,#ecfdf5,#d1fae5);border-left:4px solid #10b981}.error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_errorShake .6s ease-out;background:linear-gradient(135deg,#fef2f2,#fecaca);border-left:4px solid #ef4444}@keyframes _ngcontent-%COMP%_successSlide{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_errorShake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-2px)}20%,40%,60%,80%{transform:translate(2px)}}.price-highlight[_ngcontent-%COMP%]{font-weight:700;animation:_ngcontent-%COMP%_priceGlow 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_priceGlow{0%,to{text-shadow:0 0 5px rgba(34,197,94,.3)}50%{text-shadow:0 0 15px rgba(34,197,94,.5)}}.form-valid[_ngcontent-%COMP%]{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.form-invalid[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.coupon-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.remove-coupon[_ngcontent-%COMP%]{transition:all .2s ease;opacity:.7}.remove-coupon[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1);color:#dc2626}.coupons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}.coupon-suggestion[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.coupon-suggestion[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.coupon-suggestion[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.coupon-suggestion[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.empty-coupons[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .8s ease-out}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.limit-alert[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseWarning 2s infinite;background:linear-gradient(135deg,#fefce8,#fef3c7);border-left:4px solid #f59e0b}@keyframes _ngcontent-%COMP%_pulseWarning{0%,to{opacity:1}50%{opacity:.8}}.coupon-tooltip[_ngcontent-%COMP%]{position:relative}.coupon-tooltip[_ngcontent-%COMP%]:after{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%);background-color:#1f2937;color:#fff;padding:.5rem;border-radius:.375rem;font-size:.75rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:10}.coupon-tooltip[_ngcontent-%COMP%]:hover:after{opacity:1}.applying-progress[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3b82f6,#8b5cf6,#3b82f6);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 2s linear infinite}@media (max-width: 768px){.coupon-suggestion[_ngcontent-%COMP%]:hover, .coupon-applied[_ngcontent-%COMP%]:hover, .apply-button[_ngcontent-%COMP%]:hover{transform:none}.coupons-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 640px){.coupon-suggestion[_ngcontent-%COMP%], .coupon-form[_ngcontent-%COMP%]{padding:1rem}}.focus-visible[_ngcontent-%COMP%]:focus-visible{outline:2px solid #3b82f6;outline-offset:2px;border-radius:.375rem}.state-transition[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.premium-coupon[_ngcontent-%COMP%]{background:linear-gradient(45deg,#8b5cf6,#a855f7);color:#fff;position:relative;overflow:hidden}.premium-coupon[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);animation:_ngcontent-%COMP%_premiumGlow 3s linear infinite}@keyframes _ngcontent-%COMP%_premiumGlow{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.limited-time[_ngcontent-%COMP%]{position:relative}.limited-time[_ngcontent-%COMP%]:before{content:"\\23f0";position:absolute;top:-8px;right:-8px;font-size:1.2rem;animation:_ngcontent-%COMP%_bounce 2s infinite}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}']})};function Eo(n,e){if(n&1&&c(0),n&2){let t=s();R(" ",t.totalItems()," ",t.totalItems()===1?"producto":"productos"," en tu carrito ")}}function Oo(n,e){n&1&&c(0," Tu carrito est\xE1 vac\xEDo ")}function Io(n,e){n&1&&(i(0,"div",5),p(1,"div",7),i(2,"span",8),c(3,"Cargando carrito..."),a()())}function To(n,e){if(n&1&&(i(0,"div",6)(1,"div",9),_(),i(2,"svg",10),p(3,"path",11),a(),w(),i(4,"div",12)(5,"h3",13),c(6,"Error en el carrito"),a(),i(7,"p",14),c(8),a()()()()),n&2){let t=s();r(8),b(t.error())}}function Vo(n,e){if(n&1){let t=k();i(0,"div",28)(1,"app-items-guardados",29),C("itemMovidoAlCarrito",function(l){g(t);let m=s(3);return f(m.onItemMovidoAlCarrito(l))})("itemEliminado",function(l){g(t);let m=s(3);return f(m.onItemEliminado(l))}),a()()}n&2&&(r(),y("compacto",!0)("mostrarAcciones",!0)("maxItemsVisibles",3))}function Fo(n,e){if(n&1){let t=k();i(0,"div",15)(1,"div",17)(2,"div",18)(3,"h2",19),c(4," Productos seleccionados "),a(),i(5,"button",20),C("click",function(){g(t);let l=s(2);return f(l.limpiarCarrito())}),_(),i(6,"svg",21),p(7,"path",22),a(),c(8," Limpiar carrito "),a()(),w(),p(9,"app-lista-items-carrito"),i(10,"div",23)(11,"app-calculadora-envio",24),C("opcionSeleccionada",function(l){g(t);let m=s(2);return f(m.onOpcionEnvioSeleccionada(l))})("direccionActualizada",function(l){g(t);let m=s(2);return f(m.onDireccionActualizada(l))}),a()(),i(12,"div",23)(13,"app-cupones-descuento",25),C("cuponAplicado",function(l){g(t);let m=s(2);return f(m.onCuponAplicado(l))})("cuponEliminado",function(l){g(t);let m=s(2);return f(m.onCuponEliminado(l))}),a()()(),i(14,"div",26)(15,"app-resumen-carrito",27),C("checkoutClick",function(){g(t);let l=s(2);return f(l.irAlCheckout())})("continuarClick",function(){g(t);let l=s(2);return f(l.continuarComprando())}),a(),u(16,Vo,2,3,"div",28),a()()}if(n&2){let t=s(2);r(11),y("compacto",!1)("mostrarDirecciones",!0)("mostrarMapaInteractivo",!1),r(2),y("compacto",!1)("mostrarSugerencias",!0)("maxCuponesSugeridos",4),r(2),y("mostrarBotonCheckout",!0)("mostrarBotonContinuar",!0)("compacto",!1)("sticky",!0),r(),d(t.esUsuarioLogueado()?16:-1)}}function Do(n,e){if(n&1){let t=k();i(0,"app-items-guardados",29),C("itemMovidoAlCarrito",function(l){g(t);let m=s(3);return f(m.onItemMovidoAlCarrito(l))})("itemEliminado",function(l){g(t);let m=s(3);return f(m.onItemEliminado(l))}),a()}n&2&&y("compacto",!1)("mostrarAcciones",!0)("maxItemsVisibles",6)}function Go(n,e){if(n&1&&(i(0,"div",16),p(1,"app-carrito-vacio",30),u(2,Do,1,3,"app-items-guardados",31),a()),n&2){let t=s(2);r(),y("productosRelacionados",t.productosRelacionados())("cargando",t.cargandoRelacionados()),r(),d(t.esUsuarioLogueado()?2:-1)}}function Ao(n,e){if(n&1&&u(0,Fo,17,11,"div",15)(1,Go,3,3,"div",16),n&2){let t=s();d(t.estaVacio()?1:0)}}var he=class n{carritoService=P(A);authService=P(Z);router=P(z);mostrarResumen=h(!0);vistaMobil=h(!1);productosRelacionados=h([]);cargandoRelacionados=h(!1);items=this.carritoService.items;resumen=this.carritoService.resumen;estaVacio=this.carritoService.estaVacio;cargando=this.carritoService.cargando;error=this.carritoService.error;totalItems=this.carritoService.totalItems;esUsuarioLogueado=M(()=>this.authService.isAuthenticated());mostrarMensajeRegistro=M(()=>!this.esUsuarioLogueado()&&!this.estaVacio());puedeIrAlCheckout=M(()=>!this.estaVacio()&&!this.cargando());resumenFormateado=M(()=>{let e=this.resumen();return G(D({},e),{subtotal_formatted:this.formatearPrecio(e.subtotal),descuentos_formatted:this.formatearPrecio(e.descuentos),impuestos_formatted:this.formatearPrecio(e.impuestos),total_formatted:this.formatearPrecio(e.total)})});constructor(){typeof window<"u"&&(this.detectarVistaMobil(),window.addEventListener("resize",()=>this.detectarVistaMobil())),this.carritoService.eventos$.subscribe(e=>{e&&this.manejarEventoCarrito(e)})}ngOnInit(){this.carritoService.cargarCarrito().subscribe({next:e=>{console.log("Carrito cargado desde servidor:",e),this.estaVacio()?this.cargarProductosRelacionados():this.verificarDisponibilidad()},error:e=>{console.error("Error al cargar carrito:",e),this.cargarProductosRelacionados()}})}formatearPrecio(e){return new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e)}irAlCheckout(){if(this.puedeIrAlCheckout()){if(!this.esUsuarioLogueado()){this.router.navigate(["/auth/login"],{queryParams:{returnUrl:"/checkout"}});return}console.log("Navegando al checkout..."),this.router.navigate(["/checkout"])}}continuarComprando(){this.router.navigate(["/catalogo"])}limpiarCarrito(){confirm("\xBFEst\xE1s seguro de que quieres eliminar todos los productos del carrito?")&&this.carritoService.limpiarCarrito().subscribe({next:e=>{e.success&&this.cargarProductosRelacionados()},error:e=>{console.error("Error al limpiar carrito:",e)}})}toggleResumen(){this.mostrarResumen.update(e=>!e)}verificarDisponibilidad(){this.carritoService.verificarDisponibilidad().subscribe({next:e=>{console.log("Disponibilidad verificada:",e)},error:e=>{console.error("Error al verificar disponibilidad:",e)}})}cargarProductosRelacionados(){this.cargandoRelacionados.set(!0),this.carritoService.obtenerProductosRelacionados().subscribe({next:e=>{this.productosRelacionados.set(e),this.cargandoRelacionados.set(!1)},error:e=>{console.error("Error al cargar productos relacionados:",e),this.cargandoRelacionados.set(!1)}})}manejarEventoCarrito(e){switch(e.tipo){case"item_agregado":break;case"item_removido":this.estaVacio()&&this.cargarProductosRelacionados();break;case"carrito_limpiado":this.cargarProductosRelacionados();break}}detectarVistaMobil(){typeof window<"u"&&this.vistaMobil.set(window.innerWidth<768)}irAlLogin(){this.router.navigate(["/auth/login"],{queryParams:{returnUrl:"/carrito"}})}irAlRegistro(){this.router.navigate(["/auth/registro"],{queryParams:{returnUrl:"/carrito"}})}onOpcionEnvioSeleccionada(e){console.log("Opci\xF3n de env\xEDo seleccionada:",e)}onDireccionActualizada(e){console.log("Direcci\xF3n actualizada:",e)}onItemMovidoAlCarrito(e){console.log("Item movido al carrito desde lista de deseos:",e)}onItemEliminado(e){console.log("Item eliminado de lista de deseos:",e)}onCuponAplicado(e){console.log("Cup\xF3n aplicado:",e)}onCuponEliminado(e){console.log("Cup\xF3n eliminado:",e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=T({type:n,selectors:[["app-carrito"]],standalone:!0,features:[V],decls:12,vars:4,consts:[[1,"min-h-screen","bg-gray-50","py-8"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"flex","justify-center","items-center","py-16"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"flex"],["viewBox","0 0 20 20","fill","currentColor",1,"flex-shrink-0","h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],[1,"lg:grid","lg:grid-cols-12","lg:gap-8"],[1,"space-y-8"],[1,"lg:col-span-8"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-red-600","hover:text-red-800","text-sm","font-medium","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"mt-8"],[3,"opcionSeleccionada","direccionActualizada","compacto","mostrarDirecciones","mostrarMapaInteractivo"],[3,"cuponAplicado","cuponEliminado","compacto","mostrarSugerencias","maxCuponesSugeridos"],[1,"lg:col-span-4","mt-8","lg:mt-0"],["data-carrito-resumen","",3,"checkoutClick","continuarClick","mostrarBotonCheckout","mostrarBotonContinuar","compacto","sticky"],[1,"mt-6"],[3,"itemMovidoAlCarrito","itemEliminado","compacto","mostrarAcciones","maxItemsVisibles"],[3,"productosRelacionados","cargando"],[3,"compacto","mostrarAcciones","maxItemsVisibles"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),c(4," Mi Carrito de Compras "),a(),i(5,"p",4),u(6,Eo,1,2)(7,Oo,1,0),a()(),u(8,Io,4,0,"div",5)(9,To,9,1,"div",6)(10,Ao,2,1),a()(),p(11,"app-notificaciones-carrito")),t&2&&(r(6),d(o.totalItems()>0?6:7),r(2),d(o.cargando()?8:-1),r(),d(o.error()?9:-1),r(),d(o.cargando()?-1:10))},dependencies:[F,re,ce,se,le,de,me,pe],styles:[".transition-all[_ngcontent-%COMP%]{transition:all .3s ease-in-out}.card-hover[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.card-hover[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -3px #0000001a,0 4px 6px -2px #0000000d}@keyframes _ngcontent-%COMP%_pulse-soft{0%,to{opacity:1}50%{opacity:.7}}.pulse-soft[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-soft 2s cubic-bezier(.4,0,.6,1) infinite}.checkout-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#3b82f6,#1d4ed8);transition:all .3s ease}.checkout-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(45deg,#1d4ed8,#1e40af);transform:translateY(-1px);box-shadow:0 8px 25px -3px #3b82f64d}.checkout-button[_ngcontent-%COMP%]:disabled{background:#d1d5db;transform:none;box-shadow:none}@media (max-width: 768px){.sticky-summary[_ngcontent-%COMP%]{position:relative!important;top:auto!important}.mobile-toggle[_ngcontent-%COMP%]{display:block}}@media (min-width: 769px){.mobile-toggle[_ngcontent-%COMP%]{display:none}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.discount-badge[_ngcontent-%COMP%]{background:linear-gradient(45deg,#10b981,#059669);color:#fff;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.1)}.skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.error-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef2f2,#fee2e2)}.secondary-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.secondary-button[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#d1d5db;transform:translateY(-1px);box-shadow:0 4px 8px -2px #0000001a}"]})};export{he as CarritoComponent};
